export default {
    toggleCanvasVisibility,
    getTraitsByCategory,
    getColor,
    removeCategoriesFromExtraTraits,
    removeTraitsFromExtraTraits,
    includesAny,
    adjustTraitColorsAndExtraTraits,
    preventConflicts,
    adjustForMoonPhase,
    calculateMoonPhase,
    getExtraTraits,
    getRandomCategory,
    fillRectangle,
    checkAndSetPixelColor,
    appendStyles,
    mapColors,
    replaceColorWithRandom,
    generateArt,
    generateEgg,
    appendCanvases,
    simpleHash,
    extractDigitsFromHash,
    determineNumberOfExtraTraits
};
/*
{
  "p": "brc333",
  "op": "compile",
  "s": "owlinals"
}
*/

// EDIT
const extraTraitCoordinates={
"eye patch":{
"primary":[[20,12],[21,12],[22,12],[23,12],[24,12],[14,13],[15,13],[16,13],[18,13],[19,13],[20,13],[11,14],[12,14],[13,14],[14,14],[15,14],[16,14],[17,14],[13,15],[14,15],[15,15],[16,15],[17,15],[13,16],[14,16],[15,16],[16,16],[17,16],[14,17],[15,17],[16,17]]
},
"yellow glasses":{
"#fff200":[[14,13],[15,13],[16,13],[22,13],[23,13],[24,13],[13,14],[14,14],[16,14],[17,14],[21,14],[22,14],[24,14],[25,14],[13,15],[17,15],[21,15],[25,15],[13,16],[14,16],[16,16],[17,16],[21,16],[22,16],[24,16],[25,16],[14,17],[15,17],[16,17],[22,17],[23,17],[24,17]],
"#ffc20e":[[15,14],[23,14],[11,15],[12,15],[14,15],[15,15],[16,15],[18,15],[19,15],[20,15],[22,15],[23,15],[24,15],[26,15],[27,15],[15,16],[23,16]]
},
"cat glasses":{
"random":[[12,12],[13,12],[14,12],[15,12],[23,12],[24,12],[25,12],[26,12],[11,13],[12,13],[13,13],[15,13],[16,13],[17,13],[22,13],[23,13],[25,13],[26,13],[27,13],[11,14],[12,14],[16,14],[17,14],[21,14],[22,14],[26,14],[27,14],[12,15],[13,15],[17,15],[18,15],[20,15],[21,15],[25,15],[26,15],[13,16],[14,16],[16,16],[17,16],[18,16],[19,16],[20,16],[21,16],[22,16],[24,16],[25,16],[15,17],[16,17],[17,17],[21,17],[22,17],[23,17]],
"primary":[[13,14],[14,13],[14,14],[14,15],[15,14],[15,15],[15,16],[16,15],[22,15],[23,14],[23,15],[23,16],[24,13],[24,14],[24,15],[25,14]],
},
"thuglife glasses":{
"#FF4040":[[11,13],[12,13],[13,13],[15,13],[16,13],[17,13],[18,13],[19,13],[20,13],[21,13],[23,13],[24,13],[25,13],[26,13],[27,13],[11,14],[12,14],[14,14],[16,14],[17,14],[18,14],[19,14],[20,14],[22,14],[24,14],[25,14],[26,14],[27,14],[12,15],[13,15],[15,15],[17,15],[18,15],[20,15],[21,15],[23,15],[25,15],[26,15],[13,16],[14,16],[16,16],[17,16],[21,16],[22,16],[24,16],[25,16],[14,17],[15,17],[16,17],[22,17],[23,17],[24,17]],
"white":[[14,13],[22,13],[13,14],[15,14],[21,14],[23,14],[14,15],[16,15],[22,15],[24,15],[15,16],[23,16]]
},
"thick sunglasses":{
"primary":[[13,13],[14,13],[15,13],[16,13],[17,13],[21,13],[22,13],[23,13],[24,13],[25,13],[11,14],[12,14],[13,14],[17,14],[18,14],[19,14],[20,14],[21,14],[25,14],[26,14],[27,14],[11,15],[12,15],[13,15],[17,15],[18,15],[19,15],[20,15],[21,15],[25,15],[26,15],[27,15],[13,16],[17,16],[21,16],[25,16],[13,17],[14,17],[15,17],[16,17],[17,17],[21,17],[22,17],[23,17],[24,17],[25,17]]
},
"wireframe glasses":{
"primary":[[14,13],[15,13],[16,13],[22,13],[23,13],[24,13],[13,14],[17,14],[21,14],[25,14],[11,15],[12,15],[13,15],[17,15],[18,15],[19,15],[20,15],[21,15],[25,15],[26,15],[27,15],[13,16],[17,16],[21,16],[25,16],[14,17],[15,17],[16,17],[22,17],[23,17],[24,17]]
},
"wayfarer glasses":{
"primary":[[11,13],[12,13],[13,13],[14,13],[15,13],[16,13],[17,13],[21,13],[22,13],[23,13],[24,13],[25,13],[26,13],[27,13],[11,14],[12,14],[13,14],[17,14],[18,14],[19,14],[20,14],[21,14],[25,14],[26,14],[27,14],[11,15],[12,15],[13,15],[17,15],[18,15],[19,15],[20,15],[21,15],[25,15],[26,15],[27,15],[13,16],[17,16],[21,16],[25,16],[13,17],[14,17],[15,17],[16,17],[17,17],[21,17],[22,17],[23,17],[24,17],[25,17]]
},
"monocle":{
"primary":[[13,13],[14,13],[15,13],[16,13],[17,13],[13,14],[17,14],[13,15],[17,15],[13,16],[17,16],[13,17],[14,17],[15,17],[16,17],[17,17]]
},
"augmented eye":{
"primary":[[13,13],[14,13],[15,13],[16,13],[17,13],[11,14],[12,14],[13,14],[17,14],[18,14],[19,14],[20,14],[21,14],[25,14],[26,14],[27,14],[13,15],[17,15],[13,16],[17,16],[13,17],[14,17],[15,17],[16,17],[17,17]]
},
"square patchie":{
"primary":[[13,13],[14,13],[15,13],[16,13],[17,13],[11,14],[12,14],[13,14],[14,14],[15,14],[16,14],[17,14],[18,14],[19,14],[20,14],[21,14],[25,14],[26,14],[27,14],[13,15],[14,15],[15,15],[16,15],[17,15],[13,16],[14,16],[15,16],[16,16],[17,16],[13,17],[14,17],[15,17],[16,17],[17,17]]
},
"pirate patchie":{
"primary":[[14,13],[15,13],[16,13],[11,14],[12,14],[13,14],[14,14],[15,14],[16,14],[17,14],[18,14],[19,14],[20,14],[21,14],[25,14],[26,14],[27,14],[13,15],[14,15],[15,15],[16,15],[17,15],[13,16],[14,16],[15,16],[16,16],[17,16],[14,17],[15,17],[16,17]]
},
"spacey googles":{
"random":[[11,14],[12,14],[13,14],[14,14],[15,14],[16,14],[17,14],[18,14],[19,14],[20,14],[21,14],[22,14],[23,14],[24,14],[25,14],[26,14],[27,14],[11,15],[27,15],[11,16],[12,16],[13,16],[14,16],[15,16],[16,16],[17,16],[18,16],[19,16],[20,16],[21,16],[22,16],[23,16],[24,16],[25,16],[26,16],[27,16]],
"#464646":[[12,15],[13,15],[14,15],[15,15],[16,15],[17,15],[18,15],[19,15],[20,15],[21,15],[22,15],[23,15],[24,15],[25,15],[26,15]]
},
"matrix glasses":{
"#ff7e00":[[12,14],[13,14],[14,14],[15,14],[16,14],[17,14],[18,14],[20,14],[21,14],[22,14],[23,14],[24,14],[25,14],[26,14],[11,15],[12,15],[13,15],[17,15],[18,15],[19,15],[20,15],[21,15],[25,15],[26,15],[27,15],[12,16],[13,16],[14,16],[15,16],[16,16],[17,16],[18,16],[20,16],[21,16],[22,16],[23,16],[24,16],[25,16],[26,16]]
},
"red and blue":{
"white":[[11,13],[12,13],[13,13],[14,13],[15,13],[16,13],[17,13],[21,13],[22,13],[23,13],[24,13],[25,13],[26,13],[27,13],[11,14],[12,14],[17,14],[18,14],[19,14],[20,14],[21,14],[26,14],[27,14],[12,15],[17,15],[18,15],[20,15],[21,15],[26,15],[12,16],[17,16],[21,16],[26,16],[13,17],[14,17],[15,17],[16,17],[22,17],[23,17],[24,17],[25,17]],
"#2f3699":[[13,14],[14,14],[15,14],[16,14],[13,15],[14,15],[15,15],[16,15],[13,16],[14,16],[15,16],[16,16]],
"#ed1c24":[[22,14],[23,14],[24,14],[25,14],[22,15],[23,15],[24,15],[25,15],[22,16],[23,16],[24,16],[25,16]]
},
"inmate suit":{
"random":[[11,19],[12,19],[13,19],[14,19],[15,19],[16,19],[17,19],[18,19],[20,19],[21,19],[22,19],[23,19],[24,19],[25,19],[26,19],[27,19],[10,21],[11,21],[12,21],[13,21],[14,21],[15,21],[16,21],[17,21],[18,21],[19,21],[20,21],[21,21],[22,21],[23,21],[24,21],[25,21],[26,21],[27,21],[28,21],[12,23],[13,23],[14,23],[15,23],[16,23],[17,23],[18,23],[19,23],[20,23],[21,23],[22,23],[23,23],[24,23],[25,23],[26,23],[13,25],[14,25],[15,25],[16,25],[17,25],[18,25],[19,25],[20,25],[21,25],[22,25],[23,25],[24,25],[25,25],[16,27],[17,27],[21,27],[22,27]],
"white":[[12,18],[13,18],[17,18],[18,18],[20,18],[21,18],[25,18],[26,18],[10,20],[11,20],[12,20],[13,20],[14,20],[15,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[23,20],[24,20],[25,20],[26,20],[27,20],[28,20],[12,22],[13,22],[14,22],[15,22],[16,22],[17,22],[18,22],[19,22],[20,22],[21,22],[22,22],[23,22],[24,22],[25,22],[26,22],[11,24],[12,24],[13,24],[14,24],[15,24],[16,24],[17,24],[18,24],[19,24],[20,24],[21,24],[22,24],[23,24],[24,24],[25,24],[26,24],[27,24],[13,26],[14,26],[15,26],[16,26],[17,26],[18,26],[19,26],[20,26],[21,26],[22,26],[23,26],[24,26],[25,26]]
},
"checkered suit":{
"primary":[[12,19],[14,19],[16,19],[18,19],[20,19],[22,19],[24,19],[26,19],[10,20],[11,20],[12,20],[13,20],[14,20],[15,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[23,20],[24,20],[25,20],[26,20],[27,20],[28,20],[10,21],[12,21],[14,21],[16,21],[18,21],[20,21],[22,21],[24,21],[26,21],[28,21],[12,22],[13,22],[14,22],[15,22],[16,22],[17,22],[18,22],[19,22],[20,22],[21,22],[22,22],[23,22],[24,22],[25,22],[26,22],[12,23],[14,23],[16,23],[18,23],[20,23],[22,23],[24,23],[26,23],[11,24],[12,24],[13,24],[14,24],[15,24],[16,24],[17,24],[18,24],[19,24],[20,24],[21,24],[22,24],[23,24],[24,24],[25,24],[26,24],[27,24],[14,25],[16,25],[18,25],[20,25],[22,25],[24,25],[13,26],[14,26],[15,26],[16,26],[17,26],[18,26],[19,26],[20,26],[21,26],[22,26],[23,26],[24,26],[25,26],[16,27],[22,27]],
"random":[[12,18],[18,18],[20,18],[26,18],[11,19],[13,19],[15,19],[17,19],[21,19],[23,19],[25,19],[27,19],[11,21],[13,21],[15,21],[17,21],[19,21],[21,21],[23,21],[25,21],[27,21],[13,23],[15,23],[17,23],[19,23],[21,23],[23,23],[25,23],[13,25],[15,25],[17,25],[19,25],[21,25],[23,25],[25,25],[17,27],[21,27]]
},
"checkerboard suit":{
"primary":[[13,18],[17,18],[21,18],[25,18],[12,19],[14,19],[16,19],[18,19],[20,19],[22,19],[24,19],[26,19],[11,20],[13,20],[15,20],[17,20],[19,20],[21,20],[23,20],[25,20],[27,20],[10,21],[12,21],[14,21],[16,21],[18,21],[20,21],[22,21],[24,21],[26,21],[28,21],[13,22],[15,22],[17,22],[19,22],[21,22],[23,22],[25,22],[12,23],[14,23],[16,23],[18,23],[20,23],[22,23],[24,23],[26,23],[11,24],[13,24],[15,24],[17,24],[19,24],[21,24],[23,24],[25,24],[27,24],[14,25],[16,25],[18,25],[20,25],[22,25],[24,25],[13,26],[15,26],[17,26],[19,26],[21,26],[23,26],[25,26],[16,27],[22,27]],
"random":[[12,18],[18,18],[20,18],[26,18],[11,19],[13,19],[15,19],[17,19],[21,19],[23,19],[25,19],[27,19],[10,20],[12,20],[14,20],[16,20],[18,20],[20,20],[22,20],[24,20],[26,20],[28,20],[11,21],[13,21],[15,21],[17,21],[19,21],[21,21],[23,21],[25,21],[27,21],[12,22],[14,22],[13,23],[15,23],[16,22],[18,22],[20,22],[22,22],[24,22],[26,22],[17,23],[19,23],[21,23],[23,23],[25,23],[12,24],[14,24],[16,24],[18,24],[20,24],[22,24],[24,24],[26,24],[13,25],[15,25],[17,25],[19,25],[21,25],[23,25],[25,25],[14,26],[16,26],[18,26],[20,26],[22,26],[24,26],[17,27],[21,27]]
},
"checkered robe":{
"primary":[[13,18],[17,18],[21,18],[25,18],[12,19],[14,19],[16,19],[18,19],[20,19],[22,19],[24,19],[26,19],[10,20],[11,20],[12,20],[13,20],[14,20],[15,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[23,20],[24,20],[25,20],[26,20],[27,20],[28,20],[10,21],[12,21],[14,21],[16,21],[18,21],[20,21],[22,21],[24,21],[26,21],[28,21],[12,22],[13,22],[14,22],[15,22],[16,22],[17,22],[18,22],[19,22],[20,22],[21,22],[22,22],[23,22],[24,22],[25,22],[26,22],[12,23],[14,23],[16,23],[18,23],[20,23],[22,23],[24,23],[26,23],[11,24],[12,24],[13,24],[14,24],[15,24],[16,24],[17,24],[18,24],[19,24],[20,24],[21,24],[22,24],[23,24],[24,24],[25,24],[26,24],[27,24],[14,25],[16,25],[18,25],[20,25],[22,25],[24,25],[13,26],[14,26],[15,26],[16,26],[17,26],[18,26],[19,26],[20,26],[21,26],[22,26],[23,26],[24,26],[25,26],[14,27],[16,27],[18,27],[20,27],[22,27],[24,27],[13,28],[14,28],[15,28],[16,28],[17,28],[18,28],[19,28],[20,28],[21,28],[22,28],[23,28],[24,28],[25,28]],
"random":[[12,18],[18,18],[20,18],[26,18],[11,19],[13,19],[15,19],[17,19],[21,19],[23,19],[25,19],[27,19],[11,21],[13,21],[15,21],[17,21],[19,21],[21,21],[23,21],[25,21],[27,21],[13,23],[15,23],[17,23],[19,23],[21,23],[23,23],[25,23],[13,25],[15,25],[17,25],[19,25],[21,25],[23,25],[25,25],[13,27],[15,27],[17,27],[19,27],[21,27],[23,27],[25,27]]
},
"see through kilt":{
"primary":[[13,20],[14,20],[15,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[23,20],[24,20],[25,20],[13,21],[25,21],[13,22],[15,22],[16,22],[17,22],[18,22],[19,22],[20,22],[21,22],[22,22],[23,22],[25,22],[13,23],[15,23],[23,23],[25,23],[13,24],[15,24],[16,24],[17,24],[18,24],[19,24],[20,24],[21,24],[22,24],[23,24],[25,24],[13,25],[25,25],[13,26],[14,26],[15,26],[16,26],[17,26],[18,26],[19,26],[20,26],[21,26],[22,26],[23,26],[24,26],[25,26]]
},
"kilt":{
"primary":[[13,20],[14,20],[15,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[23,20],[24,20],[25,20],[13,21],[25,21],[13,22],[15,22],[16,22],[17,22],[18,22],[19,22],[20,22],[21,22],[22,22],[23,22],[25,22],[13,23],[15,23],[23,23],[25,23],[13,24],[15,24],[16,24],[17,24],[18,24],[19,24],[20,24],[21,24],[22,24],[23,24],[25,24],[13,25],[25,25],[13,26],[14,26],[15,26],[16,26],[17,26],[18,26],[19,26],[20,26],[21,26],[22,26],[23,26],[24,26],[25,26]],
"random":[[14,21],[15,21],[16,21],[17,21],[18,21],[19,21],[20,21],[21,21],[22,21],[23,21],[24,21],[14,22],[24,22],[14,23],[16,23],[17,23],[18,23],[19,23],[20,23],[21,23],[22,23],[24,23],[14,24],[24,24],[14,25],[15,25],[16,25],[17,25],[18,25],[19,25],[20,25],[21,25],[22,25],[23,25],[24,25]]
},
"jump suit":{
"primary":[[13,18],[17,18],[21,18],[25,18],[12,19],[14,19],[16,19],[18,19],[20,19],[22,19],[24,19],[26,19],[11,20],[13,20],[15,20],[17,20],[19,20],[21,20],[23,20],[25,20],[27,20],[10,21],[12,21],[14,21],[16,21],[18,21],[20,21],[22,21],[24,21],[26,21],[28,21],[12,22],[13,22],[14,22],[15,22],[16,22],[17,22],[18,22],[19,22],[20,22],[21,22],[22,22],[23,22],[24,22],[25,22],[26,22],[12,23],[14,23],[16,23],[18,23],[20,23],[22,23],[24,23],[26,23],[11,24],[13,24],[15,24],[17,24],[19,24],[21,24],[23,24],[25,24],[27,24],[14,25],[16,25],[18,25],[20,25],[22,25],[24,25],[13,26],[15,26],[17,26],[19,26],[21,26],[23,26],[25,26],[16,27],[22,27]],
"random":[[12,18],[18,18],[20,18],[26,18],[11,19],[13,19],[15,19],[17,19],[21,19],[23,19],[25,19],[27,19],[10,20],[12,20],[14,20],[16,20],[18,20],[20,20],[22,20],[24,20],[26,20],[28,20],[11,21],[13,21],[15,21],[17,21],[19,21],[21,21],[23,21],[25,21],[27,21],[13,23],[15,23],[17,23],[19,23],[21,23],[23,23],[25,23],[12,24],[14,24],[16,24],[18,24],[20,24],[22,24],[24,24],[26,24],[13,25],[15,25],[17,25],[19,25],[21,25],[23,25],[25,25],[14,26],[16,26],[18,26],[20,26],[22,26],[24,26],[17,27],[21,27]]
},
"footie":{
"random":[[12,18],[13,18],[17,18],[18,18],[20,18],[21,18],[25,18],[26,18],[11,19],[12,19],[13,19],[14,19],[15,19],[16,19],[17,19],[18,19],[20,19],[21,19],[22,19],[23,19],[24,19],[25,19],[26,19],[27,19],[10,20],[11,20],[12,20],[13,20],[14,20],[15,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[23,20],[24,20],[25,20],[26,20],[27,20],[28,20],[10,21],[11,21],[12,21],[13,21],[14,21],[15,21],[16,21],[17,21],[18,21],[20,21],[21,21],[22,21],[23,21],[24,21],[25,21],[26,21],[27,21],[28,21],[10,22],[11,22],[12,22],[13,22],[14,22],[15,22],[16,22],[17,22],[18,22],[19,22],[20,22],[21,22],[22,22],[23,22],[24,22],[25,22],[26,22],[27,22],[28,22],[10,23],[13,23],[14,23],[15,23],[16,23],[17,23],[18,23],[20,23],[21,23],[22,23],[23,23],[24,23],[25,23],[28,23],[13,24],[14,24],[15,24],[16,24],[17,24],[18,24],[19,24],[20,24],[21,24],[22,24],[23,24],[24,24],[25,24],[13,25],[14,25],[15,25],[16,25],[17,25],[18,25],[20,25],[21,25],[22,25],[23,25],[24,25],[25,25],[13,26],[14,26],[15,26],[16,26],[17,26],[18,26],[19,26],[20,26],[21,26],[22,26],[23,26],[24,26],[25,26],[16,27],[17,27],[21,27],[22,27],[15,28],[16,28],[17,28],[18,28],[20,28],[21,28],[22,28],[23,28]],
"primary":[[19,21],[19,23],[19,25]]
},
"satoshi shirt":{
"#FF4040":[[17,19],[18,19],[19,19],[20,19],[21,19],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[16,21],[19,21],[22,21],[16,22],[19,22],[22,22],[15,23],[16,23],[17,23],[18,23],[19,23],[20,23],[21,23],[22,23],[23,23],[15,24],[16,24],[17,24],[18,24],[19,24],[20,24],[21,24],[22,24],[23,24],[16,25],[17,25],[21,25],[22,25],[17,26],[18,26],[19,26],[20,26],[21,26]],
"white":[[18,22],[21,22]],
"black":[[17,21],[18,21],[19,23],[20,21],[21,21],[17,22],[20,22],[18,25],[19,25],[20,25]],
"#ffc20e":[[11,19],[12,19],[13,19],[14,19],[15,19],[16,19],[22,19],[23,19],[24,19],[25,19],[26,19],[27,19],[10,20],[11,20],[12,20],[13,20],[14,20],[15,20],[23,20],[24,20],[25,20],[26,20],[27,20],[28,20],[10,21],[11,21],[12,21],[13,21],[14,21],[15,21],[23,21],[24,21],[25,21],[26,21],[27,21],[28,21],[13,22],[14,22],[15,22],[23,22],[24,22],[25,22],[13,23],[14,23],[24,23],[25,23],[13,24],[14,24],[24,24],[25,24],[13,25],[14,25],[15,25],[23,25],[24,25],[25,25],[13,26],[14,26],[15,26],[16,26],[22,26],[23,26],[24,26],[25,26]]
},
"lightning bolt":{
"random":[[12,18],[13,18],[17,18],[18,18],[20,18],[21,18],[25,18],[26,18],[11,19],[12,19],[13,19],[14,19],[15,19],[16,19],[17,19],[18,19],[20,19],[21,19],[22,19],[23,19],[24,19],[25,19],[26,19],[27,19],[10,20],[11,20],[12,20],[13,20],[14,20],[15,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[23,20],[24,20],[25,20],[26,20],[27,20],[28,20],[10,21],[11,21],[12,21],[13,21],[14,21],[15,21],[16,21],[17,21],[18,21],[19,21],[21,21],[22,21],[23,21],[24,21],[25,21],[26,21],[27,21],[28,21],[10,22],[11,22],[12,22],[13,22],[14,22],[15,22],[16,22],[17,22],[18,22],[21,22],[22,22],[23,22],[24,22],[25,22],[26,22],[27,22],[28,22],[10,23],[13,23],[14,23],[15,23],[16,23],[17,23],[20,23],[21,23],[22,23],[23,23],[24,23],[25,23],[28,23],[13,24],[14,24],[15,24],[16,24],[17,24],[19,24],[20,24],[21,24],[22,24],[23,24],[24,24],[25,24],[13,25],[14,25],[15,25],[16,25],[17,25],[18,25],[19,25],[20,25],[21,25],[22,25],[23,25],[24,25],[25,25]],
"white":[[20,21],[19,22],[20,22],[18,23],[19,23],[18,24]]
},
"seven":{
"random":[[12,18],[13,18],[17,18],[18,18],[20,18],[21,18],[25,18],[26,18],[11,19],[12,19],[13,19],[14,19],[15,19],[16,19],[17,19],[18,19],[20,19],[21,19],[22,19],[23,19],[24,19],[25,19],[26,19],[27,19],[10,20],[11,20],[12,20],[13,20],[14,20],[15,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[23,20],[24,20],[25,20],[26,20],[27,20],[28,20],[10,21],[11,21],[12,21],[13,21],[14,21],[15,21],[16,21],[22,21],[23,21],[24,21],[25,21],[26,21],[27,21],[28,21],[10,22],[11,22],[12,22],[13,22],[14,22],[15,22],[16,22],[17,22],[18,22],[19,22],[22,22],[23,22],[24,22],[25,22],[26,22],[27,22],[28,22],[10,23],[13,23],[14,23],[15,23],[16,23],[17,23],[18,23],[21,23],[22,23],[23,23],[24,23],[25,23],[28,23],[13,24],[14,24],[15,24],[16,24],[17,24],[20,24],[21,24],[22,24],[23,24],[24,24],[25,24],[13,25],[14,25],[15,25],[16,25],[19,25],[20,25],[21,25],[22,25],[23,25],[24,25],[25,25],[13,26],[14,26],[15,26],[16,26],[18,26],[19,26],[20,26],[21,26],[22,26],[23,26],[24,26],[25,26]],
"white":[[17,21],[18,21],[19,21],[20,21],[21,21],[20,22],[21,22],[19,23],[20,23],[18,24],[19,24],[18,25]]
},
"gold chain with medallion":{
"#ffc20e":[[13,18],[14,19],[24,19],[25,18],[15,20],[23,20],[16,21],[22,21],[17,22],[19,22],[21,22],[18,23],[19,23],[20,23],[19,24]],
"primary":[[12,18],[12,19],[13,19],[17,18],[18,18],[20,18],[21,18],[25,19],[26,18],[26,19],[11,19],[15,19],[16,19],[17,19],[18,19],[20,19],[21,19],[22,19],[23,19],[10,20],[11,20],[12,20],[13,20],[14,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[24,20],[25,20],[26,20],[27,20],[28,20],[10,21],[11,21],[12,21],[13,21],[14,21],[15,21],[17,21],[18,21],[19,21],[20,21],[21,21],[23,21],[24,21],[25,21],[26,21],[27,21],[28,21],[10,22],[11,22],[12,22],[13,22],[14,22],[15,22],[16,22],[18,22],[20,22],[22,22],[23,22],[24,22],[25,22],[26,22],[27,22],[28,22],[10,23],[13,23],[14,23],[15,23],[16,23],[17,23],[21,23],[22,23],[23,23],[24,23],[25,23],[28,23],[13,24],[14,24],[15,24],[16,24],[17,24],[18,24],[20,24],[21,24],[22,24],[23,24],[24,24],[25,24],[13,25],[14,25],[15,25],[16,25],[17,25],[18,25],[19,25],[20,25],[21,25],[22,25],[23,25],[24,25],[25,25],[19,23]],
"random":[[19,23]]
},
"gold chain with gem":{
"#ffc20e":[[11,19],[12,19],[26,19],[27,19],[12,20],[13,20],[25,20],[26,20],[13,21],[14,21],[24,21],[25,21],[14,22],[15,22],[17,22],[18,22],[19,22],[20,22],[21,22],[23,22],[24,22],[15,23],[16,23],[17,23],[18,23],[20,23],[21,23],[22,23],[23,23],[17,24],[18,24],[19,24],[20,24],[21,24]],
"primary":[[12,18],[13,18],[17,18],[18,18],[20,18],[21,18],[25,18],[26,18],[13,19],[14,19],[15,19],[16,19],[17,19],[18,19],[20,19],[21,19],[22,19],[23,19],[24,19],[25,19],[10,20],[11,20],[14,20],[15,20],[16,20],[17,20],[18,20],[19,20],[20,20],[21,20],[22,20],[23,20],[24,20],[27,20],[28,20],[10,21],[11,21],[12,21],[15,21],[16,21],[17,21],[18,21],[19,21],[20,21],[21,21],[22,21],[23,21],[26,21],[27,21],[28,21],[10,22],[11,22],[12,22],[13,22],[16,22],[22,22],[25,22],[26,22],[27,22],[28,22],[10,23],[13,23],[14,23],[24,23],[25,23],[28,23],[13,24],[14,24],[15,24],[16,24],[22,24],[23,24],[24,24],[25,24],[13,25],[14,25],[15,25],[16,25],[17,25],[18,25],[19,25],[20,25],[21,25],[22,25],[23,25],[24,25],[25,25]],
"random":[[19,23]]
},
"square sun":{
"#f9d71c":[[24,2],[25,2],[26,2],[27,2],[28,2],[24,3],[25,3],[26,3],[27,3],[28,3],[24,4],[25,4],[26,4],[27,4],[28,4],[24,5],[25,5],[26,5],[27,5],[28,5],[24,6],[25,6],[26,6],[27,6],[28,6]]
},
"sun":{
"#f9d71c":[[23,2],[24,2],[25,2],[22,3],[23,3],[24,3],[25,3],[26,3],[22,4],[23,4],[24,4],[25,4],[26,4],[22,5],[23,5],[24,5],[25,5],[26,5],[23,6],[24,6],[25,6]]
},
"cloud":{
"#cccccc":[[10,2],[12,2],[13,2],[9,3],[11,3],[13,3],[14,3],[10,4],[12,4],[14,4],[15,4],[11,5],[13,5],[11,2],[14,2],[10,3],[12,3],[15,3],[11,4],[13,4],[16,4],[12,5],[14,5]]
},
"cloudy sky":{
"#ababab":[[1,1],[9,1],[10,1],[11,1],[12,1],[15,1],[16,1],[17,1],[19,1],[20,1],[21,1],[22,1],[24,1],[25,1],[26,1],[28,1],[29,1],[30,1],[12,2],[13,2],[14,2],[15,2],[17,2],[18,2],[19,2],[22,2],[23,2],[24,2],[25,2],[26,2],[27,2],[28,2],[30,2],[1,3],[9,3],[10,3],[11,3],[15,3],[19,3],[20,3],[21,3],[22,3],[23,3],[24,3],[28,3],[11,4],[12,4],[13,4],[14,4],[15,4],[16,4],[17,4],[18,4],[19,4],[23,4],[24,4],[25,4],[26,4],[27,4],[28,4],[29,4],[30,4],[1,5],[9,5],[10,5],[11,5],[12,5],[13,5],[14,5],[16,5],[17,5],[18,5],[20,5],[21,5],[23,5],[24,5],[25,5],[27,5],[28,5],[30,5],[1,6],[9,6],[12,6],[19,6],[20,6],[21,6],[22,6],[26,6],[13,1],[14,1],[18,1],[23,1],[27,1],[1,2],[9,2],[10,2],[11,2],[16,2],[20,2],[21,2],[29,2],[12,3],[13,3],[14,3],[16,3],[17,3],[18,3],[25,3],[26,3],[27,3],[29,3],[30,3],[1,4],[9,4],[10,4],[20,4],[21,4],[22,4],[15,5],[19,5],[22,5],[26,5],[29,5],[10,6],[11,6],[13,6],[14,6],[15,6],[16,6],[17,6],[18,6],[23,6],[24,6],[25,6],[27,6],[28,6],[29,6],[30,6]]
},
"chemtrails":{
"white":[[1,1],[9,1],[10,1],[11,1],[12,1],[13,1],[14,1],[15,1],[16,1],[17,1],[18,1],[19,1],[20,1],[21,1],[22,1],[23,1],[24,1],[25,1],[26,1],[27,1],[28,1],[29,1],[30,1],[1,3],[9,3],[10,3],[11,3],[12,3],[13,3],[14,3],[15,3],[16,3],[17,3],[18,3],[19,3],[20,3],[21,3],[22,3],[23,3],[24,3],[25,3],[26,3],[27,3],[28,3],[29,3],[30,3],[1,5],[9,5],[10,5],[11,5],[12,5],[13,5],[14,5],[15,5],[16,5],[17,5],[18,5],[19,5],[20,5],[21,5],[22,5],[23,5],[24,5],[25,5],[26,5],[27,5],[28,5],[29,5],[30,5]],
"#87CEEB":[[1,2],[9,2],[10,2],[11,2],[12,2],[13,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[22,2],[23,2],[24,2],[25,2],[26,2],[27,2],[28,2],[29,2],[30,2],[1,4],[9,4],[10,4],[11,4],[12,4],[13,4],[14,4],[15,4],[16,4],[17,4],[18,4],[19,4],[20,4],[21,4],[22,4],[23,4],[24,4],[25,4],[26,4],[27,4],[28,4],[29,4],[30,4],[1,6],[9,6],[10,6],[11,6],[12,6],[13,6],[14,6],[15,6],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[23,6],[24,6],[25,6],[26,6],[27,6],[28,6],[29,6],[30,6]]
},
"striped sky":{
"#25c5df":[[1,1],[9,1],[10,1],[11,1],[12,1],[13,1],[14,1],[15,1],[16,1],[17,1],[18,1],[19,1],[20,1],[21,1],[22,1],[23,1],[24,1],[25,1],[26,1],[27,1],[28,1],[29,1],[30,1],[1,4],[9,4],[10,4],[11,4],[12,4],[13,4],[14,4],[15,4],[16,4],[17,4],[18,4],[19,4],[20,4],[21,4],[22,4],[23,4],[24,4],[25,4],[26,4],[27,4],[28,4],[29,4],[30,4]],
"#4f9bd9":[[1,2],[9,2],[10,2],[11,2],[12,2],[13,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[22,2],[23,2],[24,2],[25,2],[26,2],[27,2],[28,2],[29,2],[30,2],[1,5],[9,5],[10,5],[11,5],[12,5],[13,5],[14,5],[15,5],[16,5],[17,5],[18,5],[19,5],[20,5],[21,5],[22,5],[23,5],[24,5],[25,5],[26,5],[27,5],[28,5],[29,5],[30,5],[1,3],[9,3],[10,3],[11,3],[12,3],[13,3],[14,3],[15,3],[16,3],[17,3],[18,3],[19,3],[20,3],[21,3],[22,3],[23,3],[24,3],[25,3],[26,3],[27,3],[28,3],[29,3],[30,3],[1,6],[9,6],[10,6],[11,6],[12,6],[13,6],[14,6],[15,6],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[23,6],[24,6],[25,6],[26,6],[27,6],[28,6],[29,6],[30,6]]
},
"cloud 3":{
"#909090":[[10,2],[12,2],[13,2],[9,3],[11,3],[14,3],[10,4],[15,4],[11,5],[13,5],[14,5]],
"#747474":[[11,2],[14,2],[10,3],[12,3],[13,3],[15,3],[11,4],[12,4],[13,4],[14,4],[16,4],[12,5]]
},
"cloud 2":{
"#cccccc":[[15,2],[16,2],[14,3],[17,3],[18,3],[12,4],[13,4],[16,4],[18,4],[19,4],[14,5],[17,5],[15,3],[16,3],[14,4],[15,4],[17,4],[13,5],[15,5],[16,5]]
},
"squigly sky":{
"#4f9bd9":[[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[10,1],[12,1],[13,1],[14,1],[16,1],[17,1],[18,1],[20,1],[21,1],[22,1],[24,1],[25,1],[26,1],[28,1],[29,1],[30,1],[10,2],[12,2],[14,2],[16,2],[18,2],[20,2],[22,2],[24,2],[26,2],[28,2],[30,2],[10,3],[12,3],[14,3],[16,3],[18,3],[20,3],[22,3],[24,3],[26,3],[28,3],[30,3],[10,4],[12,4],[14,4],[16,4],[18,4],[20,4],[22,4],[24,4],[26,4],[28,4],[30,4],[10,5],[12,5],[14,5],[16,5],[18,5],[20,5],[22,5],[24,5],[26,5],[28,5],[30,5],[10,6],[11,6],[12,6],[14,6],[15,6],[16,6],[18,6],[19,6],[20,6],[22,6],[23,6],[24,6],[26,6],[27,6],[28,6],[30,6]]
},
"high sky":{
"#87CEEB":[[1,1],[9,1],[10,1],[11,1],[12,1],[13,1],[14,1],[15,1],[16,1],[17,1],[18,1],[19,1],[20,1],[21,1],[22,1],[23,1],[24,1],[25,1],[26,1],[27,1],[28,1],[29,1],[30,1],[1,2],[9,2],[10,2],[11,2],[12,2],[13,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[22,2],[23,2],[24,2],[25,2],[26,2],[27,2],[28,2],[29,2],[30,2],[1,3],[9,3],[10,3],[11,3],[12,3],[13,3],[14,3],[15,3],[16,3],[17,3],[18,3],[19,3],[20,3],[21,3],[22,3],[23,3],[24,3],[25,3],[26,3],[27,3],[28,3],[29,3],[30,3],[1,4],[9,4],[10,4],[11,4],[12,4],[13,4],[14,4],[15,4],[16,4],[17,4],[18,4],[19,4],[20,4],[21,4],[22,4],[23,4],[24,4],[25,4],[26,4],[27,4],[28,4],[29,4],[30,4],[1,5],[9,5],[10,5],[11,5],[12,5],[13,5],[14,5],[15,5],[16,5],[17,5],[18,5],[19,5],[20,5],[21,5],[22,5],[23,5],[24,5],[25,5],[26,5],[27,5],[28,5],[29,5],[30,5],[1,6],[9,6],[10,6],[11,6],[12,6],[13,6],[14,6],[15,6],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[23,6],[24,6],[25,6],[26,6],[27,6],[28,6],[29,6],[30,6]]
},
"midday sky":{
"#4f9bd9":[[1,1],[9,1],[10,1],[11,1],[12,1],[13,1],[14,1],[15,1],[16,1],[17,1],[18,1],[19,1],[20,1],[21,1],[22,1],[23,1],[24,1],[25,1],[26,1],[27,1],[28,1],[29,1],[30,1],[1,2],[9,2],[10,2],[11,2],[12,2],[13,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[22,2],[23,2],[24,2],[25,2],[26,2],[27,2],[28,2],[29,2],[30,2],[1,3],[9,3],[10,3],[11,3],[12,3],[13,3],[14,3],[15,3],[16,3],[17,3],[18,3],[19,3],[20,3],[21,3],[22,3],[23,3],[24,3],[25,3],[26,3],[27,3],[28,3],[29,3],[30,3],[1,4],[9,4],[10,4],[11,4],[12,4],[13,4],[14,4],[15,4],[16,4],[17,4],[18,4],[19,4],[20,4],[21,4],[22,4],[23,4],[24,4],[25,4],[26,4],[27,4],[28,4],[29,4],[30,4],[1,5],[9,5],[10,5],[11,5],[12,5],[13,5],[14,5],[15,5],[16,5],[17,5],[18,5],[19,5],[20,5],[21,5],[22,5],[23,5],[24,5],[25,5],[26,5],[27,5],[28,5],[29,5],[30,5],[1,6],[9,6],[10,6],[11,6],[12,6],[13,6],[14,6],[15,6],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[23,6],[24,6],[25,6],[26,6],[27,6],[28,6],[29,6],[30,6],[1,7],[9,7],[10,7],[11,7],[12,7],[13,7],[14,7],[15,7],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[23,7],[24,7],[25,7],[26,7],[27,7],[28,7],[29,7],[30,7],[1,8],[9,8],[10,8],[13,8],[14,8],[15,8],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[23,8],[24,8],[25,8],[28,8],[29,8],[30,8],[1,9],[9,9],[10,9],[11,9],[27,9],[28,9],[29,9],[30,9],[1,10],[9,10],[10,10],[11,10],[12,10],[26,10],[27,10],[28,10],[29,10],[30,10],[1,11],[9,11],[10,11],[11,11],[12,11],[13,11],[14,11],[15,11],[23,11],[24,11],[25,11],[26,11],[27,11],[28,11],[29,11],[30,11],[1,12],[9,12],[10,12],[11,12],[13,12],[25,12],[27,12],[28,12],[29,12],[30,12],[1,13],[9,13],[10,13],[28,13],[29,13],[30,13],[1,14],[9,14],[10,14],[28,14],[29,14],[30,14],[1,15],[9,15],[10,15],[28,15],[29,15],[30,15],[1,16],[9,16],[10,16],[28,16],[29,16],[30,16],[1,17],[9,17],[10,17],[28,17],[29,17],[30,17],[1,18],[9,18],[10,18],[11,18],[27,18],[28,18],[29,18],[30,18]]
},
"brilliant sun":{
"#fff200":[[26,2],[25,3],[26,3],[27,3],[24,4],[25,4],[26,4],[27,4],[28,4],[25,5],[26,5],[27,5],[26,6]]
},
"upper tree branch":{
"4":[[15,1],[18,1],[1,2],[12,3],[14,2],[10,4],[9,5],[1,7]],
"19":[[1,1],[13,1],[14,1],[16,1],[17,1],[19,1],[11,2],[12,2],[13,2],[15,2],[16,2],[1,3],[10,3],[11,3],[13,3],[14,3],[9,4],[11,4],[12,4],[10,5],[1,6],[9,6],[10,6],[9,7],[1,8],[1,9]]
},
"bark":{
"#9c5a3c":[[8,1],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[8,2],[2,3],[2,4],[3,4],[4,4],[5,4],[6,4],[7,4],[8,4],[8,5],[2,6],[3,6],[4,6],[5,6],[6,6],[7,6],[8,6],[2,7],[2,8],[3,8],[4,8],[5,8],[6,8],[7,8],[8,8],[8,9],[2,10],[3,10],[4,10],[5,10],[6,10],[7,10],[8,10],[2,11],[2,12],[3,12],[4,12],[5,12],[6,12],[7,12],[8,12],[8,13],[2,14],[3,14],[4,14],[5,14],[6,14],[7,14],[8,14],[2,15],[2,16],[3,16],[4,16],[5,16],[6,16],[7,16],[8,16],[8,17],[2,18],[3,18],[4,18],[5,18],[6,18],[7,18],[8,18],[2,19],[2,20],[3,20],[4,20],[5,20],[6,20],[7,20],[8,20],[8,21],[2,22],[3,22],[4,22],[5,22],[6,22],[7,22],[8,22],[2,23],[2,24],[3,24],[4,24],[5,24],[6,24],[7,24],[8,24],[8,25],[2,26],[3,26],[4,26],[5,26],[6,26],[7,26],[8,26],[2,27],[2,28],[3,28],[4,28],[5,28],[6,28],[7,28],[8,28],[8,29],[2,30],[3,30],[4,30],[5,30],[6,30],[7,30],[8,30]]
},
"mohawk":{
"primaryRandom":[[19,6],[18,7],[19,7],[20,7],[18,8],[19,8],[20,8],[18,9],[19,9],[20,9],[19,10]]
},
"beret":{
"primaryRandom":[[19,6],[15,7],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[23,7],[15,8],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[23,8],[15,9],[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9],[23,9]]
},
"poohbah hat":{
"#990030":[[17,4],[18,4],[19,4],[20,4],[21,4],[16,5],[17,5],[18,5],[19,5],[20,5],[21,5],[22,5],[15,6],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[23,6],[15,7],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[23,7],[15,8],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[23,8],[15,9],[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9],[23,9]]
},
"two tone poohbah hat":{
"#9c5a3c":[[17,5],[18,5],[19,5],[20,5],[21,5],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8]],
"#990030":[[17,4],[18,4],[19,4],[20,4],[21,4],[16,5],[22,5],[15,6],[23,6],[15,7],[23,7],[15,8],[23,8],[15,9],[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9],[23,9]]
},
"tin foil hat":{
"#AAAEAF":[[18,4],[19,4],[20,4],[17,5],[18,5],[19,5],[20,5],[21,5],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[15,7],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[23,7],[14,8],[15,8],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[23,8],[24,8],[17,10],[18,10],[19,10],[20,10],[21,10],[18,11],[19,11],[20,11]],
"0":[[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9]]
},
"top hat with patch":{
"primaryRandom":[[17,4],[18,4],[19,4],[20,4],[21,4],[17,5],[18,5],[19,5],[20,5],[21,5],[17,6],[18,6],[19,6],[20,6],[21,6],[17,7],[21,7],[17,8],[21,8],[15,9],[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9],[23,9]],
"17":[[18,7],[19,7],[20,7],[18,8],[19,8],[20,8]]
},
"reverse pyramid hat":{
"16":[[14,9],[15,9],[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9],[23,9],[24,9],[19,13],[17,11],[18,11],[19,11],[20,11],[21,11],[15,10],[16,10],[17,10],[18,10],[19,10],[20,10],[21,10],[22,10],[23,10],[18,12],[19,12],[20,12]]
},
"drip hat":{
"16":[[16,5],[17,5],[18,5],[19,5],[20,5],[21,5],[22,5],[16,6],[17,6],[21,6],[22,6],[16,7],[17,7],[21,7],[22,7],[14,8],[15,8],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[23,8],[24,8],[15,9],[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9],[23,9],[16,10],[17,10],[18,10],[19,10],[20,10],[21,10],[22,10],[17,11],[18,11],[19,11],[20,11],[21,11]],
"primary":[[18,6],[19,6],[20,6],[18,7],[19,7],[20,7]]
},
"box hat":{
"#00b7ef":[[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[15,9],[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9],[23,9]]
},
"cap":{
"17":[[17,6],[18,6],[19,6],[20,6],[21,6],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[17,10],[18,10],[19,10],[20,10],[21,10],[18,11],[19,11],[20,11]],
"2":[[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9]]
},
"rasta cap":{
"17":[[18,4],[19,4],[20,4],[17,5],[18,5],[19,5],[20,5],[21,5],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[15,7],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[23,7],[15,8],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[23,8],[17,10],[18,10],[19,10],[20,10],[21,10],[18,11],[19,11],[20,11]],
"primary":[[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9]]
},
"baseball cap":{
"16":[[18,4],[19,4],[20,4],[17,5],[18,5],[19,5],[20,5],[21,5],[16,6],[17,6],[21,6],[22,6],[16,7],[17,7],[21,7],[22,7],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[17,10],[18,10],[19,10],[20,10],[21,10],[18,11],[19,11],[20,11]],
"primary":[[18,6],[19,6],[20,6],[18,7],[19,7],[20,7],[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9]]
},
"buzzcut":{
"1":[[13,7],[15,7],[17,7],[19,7],[21,7],[23,7],[25,7],[13,8],[15,8],[17,8],[19,8],[21,8],[23,8],[25,8]],
"2":[[14,7],[16,7],[18,7],[20,7],[22,7],[24,7],[14,8],[16,8],[18,8],[20,8],[22,8],[24,8]]
},
"spikey hair":{
"1":[[13,5],[15,5],[17,5],[19,5],[21,5],[23,5],[25,5],[13,6],[15,6],[17,6],[19,6],[21,6],[23,6],[25,6],[13,7],[15,7],[17,7],[19,7],[21,7],[23,7],[25,7],[13,8],[15,8],[17,8],[19,8],[21,8],[23,8],[25,8]],
"2":[[14,7],[16,7],[18,7],[20,7],[22,7],[24,7],[14,8],[16,8],[18,8],[20,8],[22,8],[24,8]]
},
"spikey hair 2":{
"1":[[14,5],[16,5],[18,5],[20,5],[22,5],[24,5],[14,6],[16,6],[18,6],[20,6],[22,6],[24,6],[13,7],[15,7],[17,7],[19,7],[21,7],[23,7],[25,7],[13,8],[15,8],[17,8],[19,8],[21,8],[23,8],[25,8]],
"2":[[14,7],[16,7],[18,7],[20,7],[22,7],[24,7],[14,8],[16,8],[18,8],[20,8],[22,8],[24,8]]
},
"swoosh hair":{
"0":[[22,5],[24,5],[18,6],[20,6],[22,6],[24,6],[13,7],[15,7],[17,7],[19,7],[21,7],[23,7],[25,7],[13,8],[15,8],[17,8],[19,8],[21,8],[23,8],[25,8],[21,9],[23,9]],
"1":[[21,5],[23,5],[19,6],[21,6],[23,6],[14,7],[16,7],[18,7],[20,7],[22,7],[24,7],[14,8],[16,8],[18,8],[20,8],[22,8],[24,8],[20,9],[22,9],[24,9]]
},
"afro":{
"0":[[15,1],[16,1],[17,1],[18,1],[19,1],[20,1],[21,1],[22,1],[23,1],[13,2],[14,2],[15,2],[16,2],[22,2],[23,2],[24,2],[25,2],[12,3],[13,3],[14,3],[24,3],[25,3],[26,3],[12,4],[16,4],[17,4],[18,4],[20,4],[21,4],[22,4],[26,4],[12,5],[14,5],[15,5],[16,5],[17,5],[18,5],[19,5],[20,5],[21,5],[22,5],[23,5],[24,5],[26,5],[12,6],[14,6],[15,6],[23,6],[24,6],[26,6],[12,7],[15,7],[18,7],[20,7],[23,7],[26,7],[12,8],[13,8],[15,8],[16,8],[18,8],[19,8],[20,8],[22,8],[23,8],[25,8],[26,8],[13,9],[16,9],[22,9],[25,9],[13,10],[14,10],[16,10],[17,10],[18,10],[19,10],[20,10],[21,10],[22,10],[24,10],[25,10],[14,11],[24,11],[14,12],[15,12],[16,12],[17,12],[18,12],[19,12],[20,12],[21,12],[22,12],[23,12],[24,12],[19,13]],
"1":[[17,2],[18,2],[19,2],[20,2],[21,2],[15,3],[16,3],[17,3],[18,3],[19,3],[20,3],[21,3],[22,3],[23,3],[13,4],[14,4],[15,4],[19,4],[23,4],[24,4],[25,4],[13,5],[25,5],[13,6],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[25,6],[13,7],[14,7],[16,7],[17,7],[19,7],[21,7],[22,7],[24,7],[25,7],[14,8],[17,8],[21,8],[24,8],[14,9],[15,9],[17,9],[18,9],[19,9],[20,9],[21,9],[23,9],[24,9],[15,10],[23,10],[15,11],[16,11],[17,11],[18,11],[19,11],[20,11],[21,11],[22,11],[23,11]]
},
"halo":{
"white":[[13,5],[14,5],[15,5],[16,5],[17,5],[18,5],[19,5],[20,5],[21,5],[22,5],[23,5],[24,5],[25,5],[13,6],[25,6],[13,7],[14,7],[15,7],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[23,7],[24,7],[25,7]]
},
"devil horns":{
"#FF0000":[[15,5],[23,5],[15,6],[23,6],[15,7],[23,7],[14,8],[15,8],[16,8],[22,8],[23,8],[24,8]]
},
"antlers":{
"primaryRandom":[[16,3],[22,3],[14,4],[16,4],[22,4],[24,4],[13,5],[14,5],[16,5],[18,5],[20,5],[22,5],[24,5],[25,5],[14,6],[16,6],[18,6],[20,6],[22,6],[24,6],[14,7],[15,7],[16,7],[17,7],[18,7],[20,7],[21,7],[22,7],[23,7],[24,7],[16,8],[22,8]]
},
"ranger hat":{
"#9c5a3c":[[17,5],[18,5],[19,5],[20,5],[21,5],[16,6],[17,6],[18,6],[19,6],[20,6],[21,6],[22,6],[16,7],[17,7],[18,7],[19,7],[20,7],[21,7],[22,7],[13,9],[14,9],[15,9],[16,9],[17,9],[18,9],[19,9],[20,9],[21,9],[22,9],[23,9],[24,9],[25,9]],
"#990030":[[17,4],[18,4],[19,4],[20,4],[21,4],[16,5],[22,5],[15,6],[23,6],[15,7],[23,7],[15,8],[16,8],[17,8],[18,8],[19,8],[20,8],[21,8],[22,8],[23,8]]
},
"bat ears":{
"#00008B":[[11,6],[12,6],[26,6],[27,6],[11,7],[12,7],[13,7],[25,7],[26,7],[27,7],[11,8],[12,8],[13,8],[25,8],[26,8],[27,8],[11,9],[12,9],[13,9],[14,9],[24,9],[25,9],[26,9],[27,9],[11,10],[12,10],[13,10],[14,10],[15,10],[23,10],[24,10],[25,10],[26,10],[27,10],[11,11],[12,11],[13,11],[14,11],[15,11],[23,11],[24,11],[25,11],[26,11],[27,11],[11,12],[12,12],[13,12],[25,12],[26,12],[27,12],[11,13],[27,13]]
},
"bat mask":{
"#00008B":[[11,6],[12,6],[26,6],[27,6],[11,7],[12,7],[13,7],[25,7],[26,7],[27,7],[11,8],[12,8],[13,8],[25,8],[26,8],[27,8],[11,9],[12,9],[13,9],[14,9],[24,9],[25,9],[26,9],[27,9],[11,10],[12,10],[13,10],[14,10],[15,10],[23,10],[24,10],[25,10],[26,10],[27,10],[11,11],[12,11],[13,11],[14,11],[15,11],[23,11],[24,11],[25,11],[26,11],[27,11],[11,12],[12,12],[13,12],[14,12],[15,12],[16,12],[22,12],[23,12],[24,12],[25,12],[26,12],[27,12],[11,13],[12,13],[13,13],[14,13],[15,13],[16,13],[17,13],[21,13],[22,13],[23,13],[24,13],[25,13],[26,13],[27,13],[11,14],[12,14],[13,14],[14,14],[15,14],[16,14],[17,14],[18,14],[19,14],[20,14],[21,14],[22,14],[23,14],[24,14],[25,14],[26,14],[27,14],[11,15],[12,15],[13,15],[17,15],[18,15],[20,15],[21,15],[25,15],[26,15],[27,15],[11,16],[12,16],[13,16],[14,16],[15,16],[16,16],[17,16],[18,16],[20,16],[21,16],[22,16],[23,16],[24,16],[25,16],[26,16],[27,16],[12,17],[13,17],[14,17],[15,17],[16,17],[17,17],[21,17],[22,17],[23,17],[24,17],[25,17],[26,17]]
},
"bat mask and cape":{
"#00008B":[[11,6],[12,6],[26,6],[27,6],[11,7],[12,7],[13,7],[25,7],[26,7],[27,7],[11,8],[12,8],[13,8],[25,8],[26,8],[27,8],[11,9],[12,9],[13,9],[14,9],[24,9],[25,9],[26,9],[27,9],[11,10],[12,10],[13,10],[14,10],[15,10],[23,10],[24,10],[25,10],[26,10],[27,10],[11,11],[12,11],[13,11],[14,11],[15,11],[23,11],[24,11],[25,11],[26,11],[27,11],[11,12],[12,12],[13,12],[14,12],[15,12],[16,12],[22,12],[23,12],[24,12],[25,12],[26,12],[27,12],[11,13],[12,13],[13,13],[14,13],[15,13],[16,13],[17,13],[21,13],[22,13],[23,13],[24,13],[25,13],[26,13],[27,13],[11,14],[12,14],[13,14],[14,14],[15,14],[16,14],[17,14],[18,14],[19,14],[20,14],[21,14],[22,14],[23,14],[24,14],[25,14],[26,14],[27,14],[11,15],[12,15],[13,15],[17,15],[18,15],[20,15],[21,15],[25,15],[26,15],[27,15],[11,16],[12,16],[13,16],[14,16],[15,16],[16,16],[17,16],[18,16],[20,16],[21,16],[22,16],[23,16],[24,16],[25,16],[26,16],[27,16],[12,17],[13,17],[14,17],[15,17],[16,17],[17,17],[21,17],[22,17],[23,17],[24,17],[25,17],[26,17],[12,18],[26,18],[10,19],[11,19],[12,19],[26,19],[27,19],[28,19],[10,20],[28,20],[10,21],[28,21],[10,22],[28,22],[10,23],[28,23],[10,24],[28,24],[10,25],[11,25],[12,25],[26,25],[27,25],[28,25],[10,26],[11,26],[12,26],[26,26],[27,26],[28,26],[10,27],[11,27],[12,27],[13,27],[14,27],[15,27],[18,27],[19,27],[20,27],[23,27],[24,27],[25,27],[26,27],[27,27],[28,27]]
},
"tulum":{
"#4d6df3":[[1,24],[9,24],[10,24],[28,24],[29,24],[30,24],[1,25],[9,25],[10,25],[11,25],[12,25],[26,25],[27,25],[28,25],[29,25],[30,25],[1,26],[9,26],[10,26],[11,26],[12,26],[26,26],[27,26],[28,26],[29,26],[30,26],[1,27],[9,27],[10,27],[11,27],[12,27],[13,27],[14,27],[15,27],[18,27],[19,27],[20,27],[23,27],[24,27],[25,27],[26,27],[27,27],[28,27],[29,27],[30,27],[1,28],[9,28],[10,28],[11,28],[12,28],[13,28],[14,28],[19,28],[24,28],[25,28],[26,28],[27,28],[28,28],[29,28],[30,28],[1,29],[1,30]]
},
"morning":{
"#f9d71c":[[1,19],[9,19],[10,19],[28,19],[29,19],[30,19],[1,20],[9,20],[29,20],[30,20],[1,21],[9,21],[29,21],[30,21],[1,22],[9,22],[29,22],[30,22],[1,23],[9,23],[29,23],[30,23],[1,24],[9,24],[10,24],[28,24],[29,24],[30,24],[1,25],[9,25],[10,25],[11,25],[12,25],[26,25],[27,25],[28,25],[29,25],[30,25],[1,26],[9,26],[10,26],[11,26],[12,26],[26,26],[27,26],[28,26],[29,26],[30,26],[1,27],[9,27],[10,27],[11,27],[12,27],[13,27],[14,27],[15,27],[18,27],[19,27],[20,27],[23,27],[24,27],[25,27],[26,27],[27,27],[28,27],[29,27],[30,27],[1,28],[9,28],[10,28],[11,28],[12,28],[13,28],[14,28],[19,28],[24,28],[25,28],[26,28],[27,28],[28,28],[29,28],[30,28],[1,29],[1,30]]
},
"jungle sunset":{
"#ffc20e":[[29,23],[30,23],[28,24],[29,24],[30,24],[27,25],[29,25]],
"#22b14c":[[1,25],[10,25],[12,25],[26,25],[28,25],[30,25],[1,26],[9,26],[10,26],[11,26],[12,26],[26,26],[27,26],[28,26],[29,26],[30,26],[1,27],[9,27],[10,27],[11,27],[12,27],[13,27],[14,27],[15,27],[18,27],[19,27],[20,27],[23,27],[24,27],[25,27],[26,27],[27,27],[28,27],[29,27],[30,27],[1,28],[9,28],[10,28],[11,28],[12,28],[13,28],[14,28],[19,28],[24,28],[25,28],[26,28],[27,28],[28,28],[29,28],[30,28],[1,29],[1,30]]
},
"sunrise":{
"#f5e49c":[[9,22],[1,23],[9,23]]
},
"tulum waves":{
"#4d6df3":[[9,24],[10,24],[29,24],[30,24],[1,25],[10,25],[12,25],[26,25],[28,25],[29,25],[9,26],[11,26],[26,26],[27,26],[29,26],[30,26],[1,27],[9,27],[11,27],[12,27],[13,27],[14,27],[15,27],[18,27],[19,27],[20,27],[23,27],[24,27],[25,27],[27,27],[28,27],[29,27],[1,28],[10,28],[12,28],[14,28],[19,28],[24,28],[26,28],[27,28],[29,28],[30,28],[1,30]],
"white":[[1,24],[28,24],[9,25],[11,25],[27,25],[30,25],[1,26],[10,26],[12,26],[28,26],[10,27],[26,27],[30,27],[9,28],[11,28],[13,28],[25,28],[28,28],[1,29]]
},
"paw warmers":{
"primary":[[10,23],[11,23],[13,23],[25,23],[27,23],[28,23],[10,24],[13,24],[25,24],[28,24],[10,25],[11,25],[12,25],[13,25],[25,25],[26,25],[27,25],[28,25]]
},
"boxing gloves":{
"primary":[[10,23],[11,23],[13,23],[25,23],[27,23],[28,23],[10,24],[11,24],[12,24],[13,24],[25,24],[26,24],[27,24],[28,24],[10,25],[11,25],[12,25],[13,25],[25,25],[26,25],[27,25],[28,25]]
},
"gun drawn":{
"#36454F":[[26,17],[27,17],[25,18],[26,18],[27,18],[28,18],[25,19],[26,19],[27,19],[28,19],[25,20],[28,20],[25,21],[28,21],[25,22],[28,22],[25,23],[26,23],[27,23],[28,23],[25,24],[26,24],[27,24],[28,24],[26,25],[27,25],[26,26],[27,26]],
"#E5E4E2":[[26,21],[26,22]],
"#818589":[[26,20],[27,20],[27,21],[27,22]]
},
"two guns drawn":{
"#36454F":[[11,17],[12,17],[26,17],[27,17],[10,18],[11,18],[12,18],[13,18],[25,18],[26,18],[27,18],[28,18],[10,19],[11,19],[12,19],[13,19],[25,19],[26,19],[27,19],[28,19],[10,20],[13,20],[25,20],[28,20],[10,21],[13,21],[25,21],[28,21],[10,22],[13,22],[25,22],[28,22],[10,23],[11,23],[12,23],[13,23],[25,23],[26,23],[27,23],[28,23],[10,24],[11,24],[12,24],[13,24],[25,24],[26,24],[27,24],[28,24],[11,25],[12,25],[26,25],[27,25],[11,26],[12,26],[26,26],[27,26],[11,8],[12,8],[26,8],[27,8],[12,9],[13,9],[25,9],[26,9],[13,10],[14,10],[24,10],[25,10],[19,15],[19,16],[18,17],[19,17],[20,17],[19,18],[19,19]],
"#E5E4E2":[[11,21],[26,21],[11,22],[26,22]],
"#818589":[[11,20],[12,20],[26,20],[27,20],[12,21],[27,21],[12,22],[27,22]]
},
"smoking guns":{
"#36454F":[[11,17],[12,17],[26,17],[27,17],[10,18],[11,18],[12,18],[13,18],[25,18],[26,18],[27,18],[28,18],[10,19],[11,19],[12,19],[13,19],[25,19],[26,19],[27,19],[28,19],[10,20],[13,20],[25,20],[28,20],[10,21],[13,21],[25,21],[28,21],[10,22],[13,22],[25,22],[28,22],[10,23],[11,23],[12,23],[13,23],[25,23],[26,23],[27,23],[28,23],[10,24],[11,24],[12,24],[13,24],[25,24],[26,24],[27,24],[28,24],[11,25],[12,25],[26,25],[27,25],[11,26],[12,26],[26,26],[27,26],[11,8],[12,8],[26,8],[27,8],[12,9],[13,9],[25,9],[26,9],[13,10],[14,10],[24,10],[25,10],[19,15],[19,16],[18,17],[19,17],[20,17],[19,18],[19,19]],
"#E5E4E2":[[11,21],[26,21],[11,22],[26,22]],
"#818589":[[11,20],[12,20],[26,20],[27,20],[12,21],[27,21],[12,22],[27,22]],
"#b4b4b4":[[9,10],[11,10],[26,10],[28,10],[8,11],[10,11],[12,11],[25,11],[27,11],[29,11],[7,12],[9,12],[11,12],[26,12],[28,12],[30,12],[8,13],[10,13],[12,13],[25,13],[27,13],[29,13],[7,14],[9,14],[11,14],[26,14],[28,14],[30,14],[8,15],[10,15],[12,15],[25,15],[27,15],[29,15],[7,16],[9,16],[11,16],[26,16],[28,16],[8,17],[10,17],[9,18]]
},
"paddle":{
"#A1662F":[[13,22],[13,24],[14,22],[15,22],[16,22],[17,22],[18,22],[19,22],[20,22],[10,23],[12,23],[13,23],[14,23],[15,23],[16,23],[17,23],[18,23],[19,23],[20,23],[13,24],[14,24],[15,24],[16,24],[17,24],[18,24],[19,24],[20,24]]
},
"sword":{
"#c0c0c0":[[12,22],[10,23],[12,23],[13,23],[14,23],[15,23],[16,23],[17,23],[18,23],[19,23],[20,23],[21,23],[12,24]]
},
"peg leg right":{
"#6e5023":[[21,27],[22,27],[21,28],[22,28]],
"background":[[20,28],[23,28]]
},
"peg leg left":{
"#6e5023":[[16,27],[17,27],[16,28],[17,28]],
"background":[[15,28],[18,28]]
},
"hoot upper case":{
"primary":[[12,2],[14,2],[16,2],[17,2],[18,2],[20,2],[21,2],[22,2],[24,2],[25,2],[26,2],[12,3],[14,3],[16,3],[18,3],[20,3],[22,3],[25,3],[12,4],[13,4],[14,4],[16,4],[18,4],[20,4],[22,4],[25,4],[12,5],[14,5],[16,5],[18,5],[20,5],[22,5],[25,5],[12,6],[14,6],[16,6],[17,6],[18,6],[20,6],[21,6],[22,6],[25,6]]
},
"hoot lower case":{
"primary":[[12,2],[25,2],[12,3],[25,3],[12,4],[13,4],[14,4],[16,4],[17,4],[18,4],[20,4],[21,4],[22,4],[24,4],[25,4],[26,4],[12,5],[14,5],[16,5],[18,5],[20,5],[22,5],[25,5],[12,6],[14,6],[16,6],[17,6],[18,6],[20,6],[21,6],[22,6],[25,6]]
},
"lfg":{
"random":[[11,2],[16,2],[17,2],[18,2],[19,2],[21,2],[22,2],[23,2],[24,2],[27,2],[11,3],[16,3],[21,3],[27,3],[11,4],[16,4],[17,4],[18,4],[21,4],[23,4],[24,4],[27,4],[11,5],[16,5],[21,5],[24,5],[11,6],[12,6],[13,6],[14,6],[16,6],[21,6],[22,6],[23,6],[24,6],[27,6]]
},
"12.14":{
"#FF4040":[[13,2],[15,2],[16,2],[17,2],[21,2],[23,2],[25,2],[13,3],[17,3],[21,3],[23,3],[25,3],[13,4],[15,4],[16,4],[17,4],[21,4],[23,4],[24,4],[25,4],[13,5],[15,5],[21,5],[25,5],[13,6],[15,6],[16,6],[17,6],[19,6],[21,6],[25,6]]
},
"laser eyed maxi left":{
"primary":[[15,15],[23,15],[16,16],[24,16],[17,17],[25,17],[18,18],[26,18],[19,19],[27,19],[20,20],[28,20],[21,21],[29,21],[22,22],[30,22],[23,23],[24,24],[25,25],[26,26],[27,27],[28,28],[29,29],[30,30]]
},
"laser eyed maxi right":{
"#ffc20e":[[15,15],[23,15],[14,16],[22,16],[13,17],[21,17],[12,18],[20,18],[11,19],[19,19],[10,20],[18,20],[9,21],[17,21],[8,22],[16,22],[7,23],[15,23],[6,24],[14,24],[5,25],[13,25],[4,26],[12,26],[3,27],[11,27],[2,28],[10,28],[1,29],[9,29],[8,30]]
},
};

  const extraTraitsData = [
  {category:0,trait:"eye patch",percentage:9},
  {category:0,trait:"yellow glasses",percentage:13},
  {category:0,trait:"cat glasses",percentage:9},
  {category:0,trait:"thug life glasses",percentage:9},
  {category:0,trait:"thick sunglasses",percentage:4},
  {category:0,trait:"wireframe glasses",percentage:8},
  {category:0,trait:"wayfarer glasses",percentage:9},
  {category:0,trait:"monocle",percentage:1},
  {category:0,trait:"augmented eye",percentage:9},
  {category:0,trait:"square patchie",percentage:9},
  {category:0,trait:"pirate patchie",percentage:5},
  {category:0,trait:"spacey glasses",percentage:5},
  {category:0,trait:"matrix glasses",percentage:5},
  {category:0,trait:"red and blue",percentage:5},
  {category:1,trait:"inmate suit",percentage:13},
  {category:1,trait:"checkered suit",percentage:13},
  {category:1,trait:"checkerboard suit",percentage:13},
  {category:1,trait:"checkered robe",percentage:9},
  {category:1,trait:"see through kilt",percentage:1},
  {category:1,trait:"kilt",percentage:9},
  {category:1,trait:"jump suit",percentage:13},
  {category:1,trait:"footie",percentage:10},
  {category:1,trait:"satoshi shirt",percentage:1},
  {category:1,trait:"lightning bolt",percentage:9},
  {category:1,trait:"seven",percentage:9},
  {category:2,trait:"gold chain with medallion",percentage:75},
  {category:2,trait:"gold chain with gem",percentage:25},
  {category:3,trait:"square sun",percentage:8},
  {category:3,trait:"sun",percentage:8},
  {category:3,trait:"cloud",percentage:8},
  {category:3,trait:"cloudy sky",percentage:8},
  {category:3,trait:"chemtrails",percentage:8},
  {category:3,trait:"striped sky",percentage:8},
  {category:3,trait:"cloud 3",percentage:8},
  {category:3,trait:"cloud 2",percentage:8},
  {category:3,trait:"squigly sky",percentage:8},
  {category:3,trait:"high sky",percentage:10},
  {category:3,trait:"midday sky",percentage:8},
  {category:3,trait:"brilliant sun",percentage:10},
  {category:4,trait:"upper tree branch",percentage:50},
  {category:4,trait:"bark",percentage:50},
  {category:5,trait:"mohawk",percentage:5},
  {category:5,trait:"beret",percentage:5},
  {category:5,trait:"poohbah hat",percentage:4},
  {category:5,trait:"two tone poohbah hat",percentage:4},
  {category:5,trait:"tin foil hat",percentage:4},
  {category:5,trait:"top hat with patch",percentage:4},
  {category:5,trait:"reverse pyramid hat",percentage:4},
  {category:5,trait:"drip hat",percentage:4},
  {category:5,trait:"box hat",percentage:4},
  {category:5,trait:"cap",percentage:4},
  {category:5,trait:"rasta cap",percentage:4},
  {category:5,trait:"baseball cap",percentage:6},
  {category:5,trait:"buzzcut",percentage:4},
  {category:5,trait:"spikey hair",percentage:4},
  {category:5,trait:"spikey hair 2",percentage:4},
  {category:5,trait:"swoosh hair",percentage:6},
  {category:5,trait:"afro",percentage:5},
  {category:5,trait:"halo",percentage:0},
  {category:5,trait:"devil horns",percentage:0},
  {category:5,trait:"antlers",percentage:5},
  {category:5,trait:"ranger hat",percentage:7},
  {category:5,trait:"bat ears",percentage:4},
  {category:5,trait:"bat mask",percentage:5},
  {category:5,trait:"bat mask and cape",percentage:4},
  {category:6,trait:"tulum",percentage:50},
  {category:6,trait:"morning",percentage:0},
  {category:6,trait:"jungle sunset",percentage:0},
  {category:6,trait:"sunrise",percentage:0},
  {category:6,trait:"tulum waves",percentage:50},
  {category:7,trait:"paw warmers",percentage:15},
  {category:7,trait:"boxing gloves",percentage:20},
  {category:7,trait:"gun drawn",percentage:10},
  {category:7,trait:"two guns drawn",percentage:10},
  {category:7,trait:"smoking guns",percentage:10},
  {category:7,trait:"paddle",percentage:15},
  {category:7,trait:"sword",percentage:20},
  {category:8,trait:"peg leg right",percentage:75},
  {category:8,trait:"peg leg left",percentage:25},
  {category:9,trait:"hoot upper case",percentage:25},
  {category:9,trait:"hoot lower case",percentage:75},
  {category:9,trait:"lfg",percentage:0},
  {category:9,trait:"12.14",percentage:0},
  {category:10,trait: "laser eyed maxi left",percentage:75},
  {category:10,trait: "laser eyed maxi right",percentage:25}
  ];

const categoryAppearanceRate = [15,15,15,0,15,15,0,15,5,0,5];

const collectionJsonUrl = '/content/904998af10642d0037189127544745ac2a91e2775db600f52cb57256618e61adi0'; //testnet
const baseJsonUrl = '/content/9b816e6687e77255c7e71593cf28fc07ae602e39a3c1446ca2a67bf6a0e7892ei0'; // testnet
const displaySize = '780px';
const canvasSize = 30;

let contextCanvas,pfpCanvas;

function appendStyles() {
    const style = document.createElement('style');
    style.innerHTML = `
        .image-container {
            width: ${displaySize};
            height: ${displaySize};
        }
        canvas {
            width: 100%;
            height: 100%;
            image-rendering: pixelated;
        }
        .hidden {
            display: none;
        }
    `;
    document.head.appendChild(style);
}

function toggleCanvasVisibility(event) {
    contextCanvas.classList.toggle('hidden');
    pfpCanvas.classList.toggle('hidden');
}

function getTraitsByCategory(category) {
    return extraTraitsData.filter(trait => trait.category === category);
}

function getColor(color,extraTraits,traitColors,notColors = [],replaceColors = []) {

  let newColor;

  const skyBlue = 'rgb(135,206,235)';
  const black = 'rgb(0,0,0)';
  const white = 'rgb(255,255,255)';
  const orange = 'rgb(255,64,64)';

    if (!isNaN(color) && color >= 0 && color <= 20) {
        newColor = traitColors[color];
    } else if (color === 'random') {
    newColor = `rgb(${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)})`;
    } else if (color === 'sky') {
        newColor = skyBlue;
    } else if (color === 'white') {
        newColor = white;
    } else if (color === 'black') {
        newColor = black;
    } else if (color === 'background') {
        newColor = traitColors[3];
        const foundTrait = extraTraits.find(traitObj =>
            ['tulum','morning','sunrise','jungle sunset','tulum waves'].includes(traitObj.trait));
        if (foundTrait) {
            if (foundTrait.trait === 'morning') {
                newColor = '#f9d71c';
            } else if (foundTrait.trait === 'jungle sunset') {
                newColor = '#22b14c';
            } else {
                newColor = '#4d6df3';
            }
        }
  } else if (color === 'primary') {
      const randomNum = Math.random();
      if (randomNum < 0.5) newColor = black;
      else if (randomNum < 0.9) newColor = white;
      else newColor = orange;
  } else if (color === 'primaryRandom') {
      const randomNum = Math.random();
      if (randomNum < 0.45) newColor = black;
      else if (randomNum < 0.8) newColor = white;
      else if (randomNum < 0.93) newColor = orange;
      else newColor = `rgb(${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)})`;
  } else {
      try {
          const r = parseInt(color.slice(1,3),16);
          const g = parseInt(color.slice(3,5),16);
          const b = parseInt(color.slice(5,7),16);
          newColor = `rgb(${r},${g},${b})`;
      } catch (e) {
          newColor = `rgb(${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)},${Math.floor(Math.random() * 256)})`;
      }
  }
  if (notColors.includes(newColor)) {
    for (const replacementColor of replaceColors) {
        if (replacementColor !== newColor) {
            newColor = replacementColor;
            break;
        }
    }
  }

  return newColor;
}

function removeCategoriesFromExtraTraits(extraTraits,categoryArray) {
    return extraTraits.filter(trait => !categoryArray.includes(trait.category));
}

function removeTraitsFromExtraTraits(extraTraits,traitArray) {
    return extraTraits.filter(trait => !traitArray.includes(trait.trait));
}

function includesAny(traits,searchTraits) {
    return searchTraits.some(trait => traits.some(t => t.trait === trait));
}

function adjustTraitColorsAndExtraTraits(traitColors,artDigits,extraTraits) {
    const currentTime = new Date();
    const hours = currentTime.getHours();
    const dayOfWeek = currentTime.getDay();
    let skyIndex = undefined;

    const daysOfWeek = [0,1,2,3,4,5,6];
    const nakedDay = daysOfWeek[Math.floor((artDigits[5]+1)/10 * daysOfWeek.length)];
    const randomNakedDay = daysOfWeek[Math.floor(Math.random() * daysOfWeek.length)];

    if (hours >= 7 && hours < 12) {
        if (Math.random() < (artDigits[11]+1)/10) {
            if (artDigits[7]< 5) {
                extraTraits.push(extraTraitsData[65]);
            } else {
                extraTraits.push(extraTraitsData[69]);
            }
            if (Math.random() < (artDigits[8]+1)/10) {
                extraTraits.push(extraTraitsData[68]);
            }
        } else if (hours >= 7 && hours < 12) {
            if (Math.random() < (artDigits[11]+1)/10) {
                extraTraits.push(extraTraitsData[66]);
            }
        }
    } else if (hours >= 17 && hours <=20) {
        if (Math.random() < (artDigits[8]+1)/10) {
            extraTraits.push(extraTraitsData[67]);
        }
    }

    const [moonColor,moonPhase] = adjustForMoonPhase(traitColors,artDigits);

    if (hours >= 11 && hours <= 15) {
        skyIndex = 26 + Math.floor((artDigits[4]+artDigits[9]+2) * 12/20);
        extraTraits.push(extraTraitsData[skyIndex]);
    }

    const isConflict = extraTraits.some(traitObj => {
        const index = extraTraitsData.findIndex(traitData => traitData.trait === traitObj.trait);
        return (index >= 42 && index <= 52) || (index >= 57 && index <= 64);
    });

    if (hours >= 2 && hours <= 4) {
        if (!isConflict) {
          if (Math.random() < (artDigits[6]+1)/10) {
              extraTraits.push(extraTraitsData[59]);
          }
        }
    }
    if (hours >= 14 && hours <= 16) {
      if (!isConflict && !extraTraits.some(trait => trait === 56)) {
          if (Math.random() < (artDigits[16]+1)/10) {
              extraTraits.push(extraTraitsData[58]);
          }
      }
    }
    if (dayOfWeek === nakedDay || dayOfWeek === randomNakedDay || ((hours >= 23 || hours <= 6) && Math.random() < 0.5)) {
        extraTraits = removeCategoriesFromExtraTraits(extraTraits,[0,1,2,5,7]);
    } else if ((dayOfWeek === 1 || dayOfWeek === 2 || (hours >= 8 && hours <= 10)) && Math.random() < 0.5) {
        extraTraits = removeCategoriesFromExtraTraits(extraTraits,[7]);
    }

    if ((hours >= 19 || hours <= 6)) {
        extraTraits = removeCategoriesFromExtraTraits(extraTraits,[3,6]);
    }

    if (includesAny(extraTraits,['square sun','sun','brilliant sun']) &&
        includesAny(extraTraits,['jungle sunset','sunrise'])) {
        extraTraits = removeTraitsFromExtraTraits(extraTraits,['square sun','sun','brilliant sun']);
    }

    if (currentTime.getMonth() === 11 && currentTime.getDate() === 14) {
        extraTraits.push(extraTraitsData[82]);
    } else if ((hours >= 8 && hours <= 10 && ['Monday','Tuesday','Wednesday','Thursday','Friday'].includes(dayOfWeek))) {
        extraTraits.push(extraTraitsData[81]);
    } else if ((hours >= 19 && hours <= 21) || (hours >= 5 && hours <= 7)) {
        if (Math.random < (artDigits[12]+1)/10) {
            if (Math.random < (artDigits[12]+1)/10) {
                extraTraits.push(extraTraitsData[79]);
            } else {
                extraTraits.push(extraTraitsData[80]);
            }
        }
    }
    if (includesAny(extraTraits,['jungle sunset']) &&
        includesAny(extraTraits,['tulum','tulum waves','morning'])) {
        extraTraits = removeTraitsFromExtraTraits(extraTraits,['tulum','tulum waves','sunrise','morning']);
    }
    if (includesAny(extraTraits,['sunrise']) &&
        !includesAny(extraTraits,['tulum','tulum waves'])) {  
        extraTraits = removeTraitsFromExtraTraits(extraTraits,['sunrise']);
    }
    if (includesAny(extraTraits,['hoot upper case','hoot lower case','lfg','12.14']) &&
        includesAny(extraTraits,['jungle sunset'])) {
        extraTraits = removeTraitsFromExtraTraits(extraTraits,['jungle sunset']);
    }
    extraTraits.sort((a,b) => a.category - b.category);
    return [moonColor,moonPhase,extraTraits,skyIndex];
}

function preventConflicts(extraTraitColor,context,extraTrait,list) {
    const potentialConflicts = new Set();
    const canvasWidth = context.canvas.width;
    const canvasHeight = context.canvas.height;
    const extraTraitSet = new Set(extraTrait.map(pixel => pixel.join(',')));

    extraTrait.forEach(pixel => {
        const [x,y] = pixel;

        const adjacentPixels = [
            { x: x - 1,y: y },
            { x: x + 1,y: y },
            { x: x,y: y - 1 },
            { x: x,y: y + 1 }
        ];

        adjacentPixels.forEach(adjPixel => {
            if (adjPixel.x >= 0 && adjPixel.x < canvasWidth && adjPixel.y >= 0 && adjPixel.y < canvasHeight) {
                const adjPixelKey = `${adjPixel.x},${adjPixel.y}`;
                if (!extraTraitSet.has(adjPixelKey)) {
                    const pixelData = context.getImageData(adjPixel.x,adjPixel.y,1,1).data;
                    const color = `rgb(${pixelData[0]},${pixelData[1]},${pixelData[2]})`;
                    potentialConflicts.add(color);
                }
            }
        });
    });
    if (potentialConflicts.has(extraTraitColor)) {
        for (const color of list) {
            if (!potentialConflicts.has(color)) {
                console.log('changed color to:',color);
                return color;
            }
        }
    }

    return extraTraitColor;
}

function adjustForMoonPhase(traitColors,artDigits) {
    const phase = calculateMoonPhase();
    const moonColorProbability = (artDigits[18]+1)/10;
    const shouldColorMoonWhite = moonColorProbability <= 0.25 || !traitColors[phase + 11];

    traitColors[12] = (phase === 1) ? (shouldColorMoonWhite ? '#ffffff' : traitColors[12]) : null;
    traitColors[13] = (phase === 2) ? (shouldColorMoonWhite ? '#ffffff' : traitColors[13]) : null;
    traitColors[14] = (phase === 3) ? (shouldColorMoonWhite ? '#ffffff' : traitColors[14]) : null;
    traitColors[15] = (phase === 4) ? (shouldColorMoonWhite ? '#ffffff' : traitColors[15]) : null;
    const moonColor = [12,13,14,15].includes(phase+11) ? traitColors[phase + 11] : null;
    return [moonColor,phase];
}

function calculateMoonPhase() {
    const KNOWN_NEW_MOON = new Date('2000-01-06');
    const LUNAR_MONTH = 29.53058867;
    const date = new Date();
    const daysSinceNewMoon = (date - KNOWN_NEW_MOON) / (24 * 3600 * 1000);
    const lunarMonthsSinceNewMoon = daysSinceNewMoon / LUNAR_MONTH;
    const currentPhase = lunarMonthsSinceNewMoon % 1;
    if (currentPhase < 0.125) {
        return null;
    } else if (currentPhase < 0.375) {
        return 1;
    } else if (currentPhase < 0.625) {
        return 2;
    } else if (currentPhase < 0.875) {
        return 3;
    } else {
        return 4;
    }
}

function getExtraTraits(artDigits,numberOfExtraTraits) {
    let traitsToAdd = [];
    let addedCategories = new Set();
    let hasGlasses = false;

    for (let i = 0; i < numberOfExtraTraits; i++) {
        let availableCategories = [];
        for (let j = 0; j < categoryAppearanceRate.length; j++) {
            if (!addedCategories.has(j)) {
                availableCategories.push(j);
            }
        }
        if (availableCategories.length === 0) {
            break;
        }
        let categoryIndex = availableCategories[artDigits[i % artDigits.length] % availableCategories.length];
        const categoryTraits = extraTraitsData.filter(trait => {
            if (hasGlasses && (trait.id === 59 || trait.id === 60 || trait.id === 61)) {
                return false;
            }
            return trait.category === categoryIndex;
        });
        if (categoryTraits.length > 0) {
            const randomIndex = artDigits[(i + 1) % artDigits.length] % categoryTraits.length;
            const selectedTrait = categoryTraits[randomIndex];
            traitsToAdd.push(selectedTrait);

            addedCategories.add(categoryIndex);
            if (selectedTrait.category === 0) {
                hasGlasses = true;
            }
        }
    }
    traitsToAdd.sort((a,b) => a.category - b.category);
    return traitsToAdd;
}



function getRandomCategory(artDigit) {
    const totalAppearanceRate = categoryAppearanceRate.reduce((acc,rate) => acc + rate,0);
    const randomValue = (artDigit/10) * totalAppearanceRate;
    let cumulativeRate = 0;

    for (let i = 0; i < categoryAppearanceRate.length; i++) {
        cumulativeRate += categoryAppearanceRate[i];
        if (randomValue <= cumulativeRate) {
        return i;
        }
    }

    return categoryAppearanceRate.length - 1;
}

function fillRectangle(startCoords,endCoords,color,ctx) {
    const [startX,startY] = startCoords;
    const [endX,endY] = endCoords;

    ctx.fillStyle = color;

    for (let x = startX; x <= endX; x++) {
        for (let y = startY; y <= endY; y++) {
            ctx.fillRect(x - 1,y - 1,1,1);
        }
    }
}

function checkAndSetPixelColor(pixels,targetColorHex,newColor,ctx) {
    for (const [x,y] of pixels) {
        let pixelData = ctx.getImageData(x - 1,y - 1,1,1);
        let hexColor = "#" + ("000000" + ((pixelData.data[0] << 16) | (pixelData.data[1] << 8) | pixelData.data[2]).toString(16)).slice(-6);
        if (hexColor === targetColorHex) {
            ctx.fillStyle = newColor;
            ctx.fillRect(x - 1,y - 1,1,1);
        }
    }
}

function rgbToHexWithoutAlpha(rgb) {
    const [r,g,b] = rgb;
    return "#" + [r,g,b].map(x => x.toString(16).padStart(2,'0')).join('');
}

function mapColors(ctx1,[a,b],rows,ctx2,[c,d]) {
  for (let i = 0; i < rows; i++) {
      let pixelData = ctx1.getImageData(a,b + i,1,1).data;
      let hexColor = rgbToHexWithoutAlpha([pixelData[0],pixelData[1],pixelData[2]]);
      ctx2.fillStyle = `rgb(${pixelData[0]},${pixelData[1]},${pixelData[2]},${pixelData[3] / 255})`;
      ctx2.fillRect(c,d + i,1,1);
  }
}

function generateArt(traitColors,traitCoordinates,artDigits,numberOfExtraTraits,allColors,pfp) {
    const ctx = contextCanvas.getContext('2d');
    contextCanvas.width = canvasSize;
    contextCanvas.height = canvasSize;

    const currentTime = new Date();
    const hours = currentTime.getHours();
    const differentColorEyeSocket = (artDigits[1]+1)/10 <= 0.1;
    const differentColorEye = (artDigits[2]+1)/10 <= 0.1;
    const differentColorPupil = (artDigits[3]+1)/10 <= 0.1;

    let moonColor,moonPhase;
    let rightEyeColor,leftEyeColor;
    let extraTraits = getExtraTraits(artDigits,numberOfExtraTraits);
    [moonColor,moonPhase,extraTraits,skyIndex] = adjustTraitColorsAndExtraTraits(traitColors,artDigits,extraTraits);
    const isSleeping = Math.random() < (artDigits[13]+1)/10;
    const isZombie = Math.random() < (artDigits[13]+1)/10;

    const traitsToCheck = ['tulum','tulum waves','hoot upper case','hoot lower case','lfg','12.14'];
    const doesNotIncludeTraits = extraTraits.every(traitObj =>
        !traitsToCheck.includes(traitObj.trait)
    );
    const isFlipped = doesNotIncludeTraits && Math.random() < (artDigits[10]+1)/10;

    if ((extraTraits.some(traitObj => traitObj.trait === 'jungle sunset')) || isFlipped ) {
        extraTraits = removeTraitsFromExtraTraits(extraTraits,['tulum','tulum waves','sunrise','morning']);
        ctx.save();
        ctx.translate(contextCanvas.width,0);
        ctx.scale(-1,1);
    }

    for (const [traitIndex,colorValue] of Object.entries(traitColors)) {
        let color = colorValue;

        if (traitIndex === '11') {
            if (differentColorEyeSocket) {
                const randomIndex = Math.floor(Math.random() * allColors[10].length);
                color = allColors[11][randomIndex];
            } else {
                color = traitColors[10];
            }
        } else if (traitIndex === '8') {
            if (hours >= 2 && hours <= 4 && isZombie) {
                color = '#FF4040';
            }
            leftEyeColor = color;
        } else if (traitIndex === '9') {
            if (differentColorEye) {
                const randomIndex = Math.floor(Math.random() * traitColors[8].length);
                color = allColors[9][randomIndex];
            } else {
                color = traitColors[8];
            }
            if (hours >= 2 && hours <= 4 && isZombie) {
                color = '#FF4040';
            }
            rightEyeColor = color;
        } else if (traitIndex === '17') {
            if (hours>=7 && hours<= 16 && isSleeping) {
                color = rightEyeColor;
            } else if (hours >= 11.18 && hours <= 11.19 && Math.random() < (artDigits[16]+1)/10) { 1111
                color = rightEyeColor;
            } else if (hours >= 15.54 && hours <= 15.56 && Math.random() < (artDigits[15]+1)/10) {  //333
                color = rightEyeColor;
            } else if (hours >= 2 && hours <= 4 && isZombie) {
                color = '#FF4040';
            }
        } else if (traitIndex === '18') {
            if (differentColorPupil) {
                const randomIndex = Math.floor(Math.random() * traitColors[17].length);
                color = allColors[18][randomIndex];
            } else {
                color = traitColors[17];
            }
            if (hours>=7 && hours<= 16 && isSleeping) {
                color = leftEyeColor;
            } else if (hours >= 2 && hours <= 4 && isZombie) {
                color = '#FF4040';
            }
        } else if (traitIndex === '20') {
            color = traitColors[4];
        }

        const isMoon = ['12','13','14','15'].includes(traitIndex);
        if (isMoon && traitCoordinates[traitIndex] && Array.isArray(traitCoordinates[traitIndex].coordinates) && color !== undefined) {
            if (traitIndex == moonPhase + 11 && skyIndex == undefined) {
                if (extraTraits.some(traitObj => traitObj.trait === 'halo') && moonColor == '#ffffff') {
                    ctx.fillStyle = '#fc9e68';
                } else {
                    ctx.fillStyle = moonColor;
                }
                for (const pixel of traitCoordinates[traitIndex].coordinates) {
                    ctx.fillRect(pixel.x - 1,pixel.y - 1,1,1);
                }
            }
        } else if (traitCoordinates[traitIndex] && Array.isArray(traitCoordinates[traitIndex].coordinates) && color !== undefined) {
            ctx.fillStyle = color;
            for (const pixel of traitCoordinates[traitIndex].coordinates) {
                ctx.fillRect(pixel.x - 1,pixel.y - 1,1,1);
            }
        }
    }

    const nonLaserEyesTraits = extraTraits.filter(trait => !trait.trait.startsWith('laser eyes'));
    const laserEyesTraits = extraTraits.filter(trait => trait.trait.startsWith('laser eyes'));
    extraTraits = nonLaserEyesTraits.concat(laserEyesTraits);

    for (const trait of extraTraits) {
        const traitCoordinates = extraTraitCoordinates[trait.trait];

        if (traitCoordinates !== undefined) {
            let prevColor = undefined;
            for (const color in traitCoordinates) {
                let renderColor;
                if (prevColor !== undefined) {
                    renderColor = getColor(color,extraTraits,traitColors,prevColor,['rgb(255,255,255)','rgb(0,0,0)','rgb(255,64,64)']);
                } else {
                    renderColor = getColor(color,extraTraits,traitColors);
                }
                if (['eye patch','footie','satoshi shirt','lightning bolt','paddle','sword','hoot upper case','hoot lower case','lfg','12.14','laser eyed maxi left','laser eyed maxi right'].includes(trait.trait)) {
                    ctx.fillStyle = preventConflicts(renderColor,ctx,traitCoordinates[color],['rgb(0,0,0)','rgb(255,255,255)','rgb(255,64,64)','rgb(255,194,14)']);
                } else {
                  ctx.fillStyle = renderColor;
                }
                for (const pixel of traitCoordinates[color]) {
                    ctx.fillRect(pixel[0] - 1,pixel[1] - 1,1,1);
                }
                prevColor = renderColor;
            }
        }
    }

    contextCanvas.style.width = displaySize;
    contextCanvas.style.height = displaySize;

    pfpCanvas.width = 23;
    pfpCanvas.height = 23;
    const pfpCtx = pfpCanvas.getContext('2d');

    if ((extraTraits.some(traitObj => traitObj.trait === 'jungle sunset')) || isFlipped ) {
        pfpCtx.drawImage(contextCanvas,0,5,23,23,0,0,23,23);
        fillRectangle([25,3],[12,3],traitColors[3],pfpCtx); //clear space right above head
        mapColors(ctx,[21,5],23,pfpCtx,[22,0]);
        mapColors(ctx,[21,5],23,pfpCtx,[21,0]); 
        if (extraTraits.some(traitObj => traitObj.trait === 'smoking guns')) {
            mapColors(ctx,[20,5],12,pfpCtx,[22,0]);
            fillRectangle([23,13],[23,13],traitColors[3],pfpCtx);
        }
        if (extraTraits.some(traitObj => traitObj.trait === 'laser eyed maxi right')) {
            console.log('laser eyed right');
            mapColors(ctx,[21,19],2,pfpCtx,[22,15]);
        }
        if (extraTraits.some(traitObj => traitObj.trait === 'tulum waves')) {
            console.log('tulum waves');
            mapColors(ctx,[29,23],4,pfpCtx,[22,18]);
            mapColors(ctx,[29,27],1,pfpCtx,[22,22]);
        }
        mapColors(ctx,[1,7],7,pfpCtx,[22,0]); //account for tree branch
        mapColors(ctx,[1,7],2,pfpCtx,[21,0]); //account for different skys
        fillRectangle([1,1],[23,2],traitColors[3],pfpCtx); //clear space above head
        const pixels = [[6,1],[7,1],[8,1]];
        checkAndSetPixelColor(pixels,moonColor,traitColors[3],pfpCtx);
    } else {
        pfpCtx.drawImage(contextCanvas,7,5,23,23,0,0,23,23);
        fillRectangle([6,3],[19,3],traitColors[3],pfpCtx); //clear space right above head
        mapColors(ctx,[8,5],23,pfpCtx,[0,0]); 
        mapColors(ctx,[8,5],23,pfpCtx,[1,0]); 
        if (extraTraits.some(traitObj => traitObj.trait === 'smoking guns')) {
            mapColors(ctx,[9,5],12,pfpCtx,[0,0]);
            fillRectangle([1,13],[1,13],traitColors[3],pfpCtx);
        }
        if (extraTraits.some(traitObj => traitObj.trait === 'laser eyed maxi right')) {
            console.log('laser eyed right');
            mapColors(ctx,[8,19],2,pfpCtx,[0,15]);
        }
        if (extraTraits.some(traitObj => traitObj.trait === 'tulum waves')) {
            console.log('tulum waves');
            mapColors(ctx,[0,23],4,pfpCtx,[0,18]);
            mapColors(ctx,[0,27],1,pfpCtx,[0,22]);
        }
        mapColors(ctx,[30,7],7,pfpCtx,[0,0]); //account for tree branch
        mapColors(ctx,[30,7],2,pfpCtx,[1,0]); //account for different skys
        fillRectangle([1,1],[23,2],traitColors[3],pfpCtx); //clear space above head
        const pixels = [[16,1],[17,1],[18,1]];
        checkAndSetPixelColor(pixels,moonColor,traitColors[3],pfpCtx); ///  CHECK for background color
    }

    pfpCanvas.style.width = displaySize;
    pfpCanvas.style.height = displaySize;

    if (pfp == 1) {
      toggleCanvasVisibility();
    }
}

function replaceColorWithRandom(startCoords,endCoords,oldColor,traitColors,ctx) {
    const [startX,startY] = startCoords;
    const [endX,endY] = endCoords;

    for (let x = startX; x <= endX; x++) {
        for (let y = startY; y <= endY; y++) {
            const pixel = ctx.getImageData(x,y,1,1);
            const [r,g,b,a] = pixel.data;

            const currentColor = `#${r.toString(16).padStart(2,'0')}${g.toString(16).padStart(2,'0')}${b.toString(16).padStart(2,'0')}`;

            if (currentColor === oldColor) {
                const randomColor = traitColors[Math.floor(Math.random() * traitColors.length)];
                ctx.fillStyle = randomColor;
                ctx.fillRect(x,y,1,1);
            }
        }
    }
}

function generateEgg(progress,traitColors) {
    const ctx = contextCanvas.getContext('2d');
    contextCanvas.width = canvasSize;
    contextCanvas.height = canvasSize;

    fillRectangle([1,1],[30,30],'#969696',ctx);

    eggTraitColors = {
      "egg": {
        "#5c524d": [[12,7],[13,7],[14,7],[15,7],[16,7],[17,7],[18,7],[19,7],[10,9],[11,9],[20,9],[21,9],[9,10],[22,10],[9,11],[22,11],[9,12],[9,13],[7,14],[7,15],[7,16],[7,17],[7,18],[7,19],[7,20],[7,21],[7,22]],
        "#3d322d": [[8,23]],
        "#3c312c": [[8,24]],
        "#9c8a6a": [[20,12],[21,12],[20,13],[21,13],[20,14],[21,14],[20,15],[21,15],[20,16],[21,16],[22,16],[20,17],[21,17],[22,17],[20,18],[21,18],[22,18],[20,19],[21,19],[22,19],[18,20],[19,20],[20,20],[21,20],[22,20],[18,21],[19,21],[20,21],[21,21],[22,21],[16,22],[17,22],[18,22],[19,22],[20,22],[21,22],[12,23],[13,23],[14,23],[15,23],[16,23],[17,23],[18,23],[19,23],[12,24],[13,24],[14,24],[15,24],[16,24],[17,24],[18,24],[19,24]],
        "#7e7057": [[10,23],[11,23]],
        "#fff0d6": [[12,10],[13,10],[12,11],[13,11],[10,12],[11,12],[12,12],[13,12],[10,13],[11,13],[12,13],[13,13],[10,14],[11,14],[10,15],[11,15]],
        "#7d6f56": [[12,9],[13,9],[18,9],[19,9],[10,10],[11,10],[20,10],[21,10],[10,11],[11,11],[20,11],[21,11],[9,14],[22,14],[9,15],[22,15],[9,22],[22,22],[20,23],[21,23],[10,24],[11,24],[20,24],[21,24]],
        "#372b26": [[23,14],[23,15],[23,16],[23,17],[23,18],[23,19],[23,20],[23,21],[23,22],[9,23],[22,23]],
        "#959595": [[23,10],[23,11],[23,12],[23,13],[7,23],[24,23],[23,24]],
        "#7b6d55": [[12,8],[13,8],[18,8],[19,8],[8,14],[8,15],[8,22]],
        "#362a25": [[22,12],[22,13],[24,14],[24,15],[24,16],[24,17],[24,18],[24,19],[24,20],[24,21],[24,22],[9,24],[22,24],[10,25],[11,25],[12,25],[13,25],[14,25],[15,25],[16,25],[17,25],[18,25],[19,25],[20,25],[21,25],[10,26],[11,26],[12,26],[13,26],[14,26],[15,26],[16,26],[17,26],[18,26],[19,26],[20,26],[21,26]],
        "#bfab84": [[14,9],[15,9],[16,9],[17,9],[14,10],[15,10],[16,10],[17,10],[18,10],[19,10],[14,11],[15,11],[16,11],[17,11],[18,11],[19,11],[14,12],[15,12],[16,12],[17,12],[18,12],[19,12],[14,13],[15,13],[16,13],[17,13],[18,13],[19,13],[12,14],[13,14],[14,14],[15,14],[16,14],[17,14],[18,14],[19,14],[12,15],[13,15],[14,15],[15,15],[16,15],[17,15],[18,15],[19,15],[9,16],[10,16],[11,16],[12,16],[13,16],[14,16],[15,16],[16,16],[17,16],[18,16],[19,16],[9,17],[10,17],[11,17],[12,17],[13,17],[14,17],[15,17],[16,17],[17,17],[18,17],[19,17],[9,18],[10,18],[11,18],[12,18],[13,18],[14,18],[15,18],[16,18],[17,18],[18,18],[19,18],[9,19],[10,19],[11,19],[12,19],[13,19],[14,19],[15,19],[16,19],[17,19],[18,19],[19,19],[9,20],[10,20],[11,20],[12,20],[13,20],[14,20],[15,20],[16,20],[17,20],[9,21],[10,21],[11,21],[12,21],[13,21],[14,21],[15,21],[16,21],[17,21],[10,22],[11,22],[12,22],[13,22],[14,22],[15,22]],
        "#949494": [[23,23]],
        "#b9a681": [[14,8],[15,8],[16,8],[17,8],[8,16],[8,17],[8,18],[8,19],[8,20],[8,21]],
        "#605651": [[10,8],[11,8],[20,8],[21,8],[8,10],[8,11],[8,12],[8,13]],
      },
      "crack 1": {
        "black": [[14,10],[14,11],[14,12],[14,13],[12,14],[13,14],[14,14],[12,15],[10,16],[11,16],[12,16]],
      },
      "crack 2": {
        "black": [[13,8],[13,9],[13,10],[14,10],[14,11],[14,12],[14,13],[12,14],[13,14],[14,14],[12,15],[9,16],[10,16],[11,16],[12,16],[9,17],[9,18],[9,19],[9,20],[9,21]],
      },
      "crack 3": {
        "black": [[13,7],[13,8],[13,9],[13,10],[14,10],[14,11],[14,12],[14,13],[12,14],[13,14],[14,14],[12,15],[9,16],[10,16],[11,16],[12,16],[9,17],[9,18],[9,19],[9,20],[9,21],[9,22],[9,23],[9,24]],
      },
      "crack 4": {
        "black": [[13,7],[13,8],[13,9],[13,10],[14,10],[14,11],[14,12],[14,13],[12,14],[13,14],[14,14],[15,14],[16,14],[17,14],[12,15],[17,15],[18,15],[19,15],[9,16],[10,16],[11,16],[12,16],[19,16],[20,16],[21,16],[9,17],[21,17],[9,18],[21,18],[9,19],[21,19],[9,20],[21,20],[22,20],[23,20],[9,21],[23,21],[9,22],[23,22],[9,23],[9,24]],
      },
    };

    const eggsToDisplay = ['egg'];

    if (progress >= 0.20) eggsToDisplay.push('crack 1');
    if (progress >= 0.40) eggsToDisplay.push('crack 2');
    if (progress >= 0.60) eggsToDisplay.push('crack 3');
    if (progress >= 0.80) eggsToDisplay.push('crack 4');

    for (const trait of eggsToDisplay) {
        if (eggTraitColors[trait]) {
            for (const [color,coordinates] of Object.entries(eggTraitColors[trait])) {
                ctx.fillStyle = color;
                for (const pixel of coordinates) {
                    ctx.fillRect(pixel[0] - 1,pixel[1] - 1,1,1);
                }
            }
        }
    }

    contextCanvas.style.width = displaySize;
    contextCanvas.style.height = displaySize;

    pfpCanvas.width = 30;
    pfpCanvas.height = 30;
    const pfpCtx = pfpCanvas.getContext('2d');

    pfpCtx.drawImage(contextCanvas,0,0,30,30,0,0,30,30);
    replaceColorWithRandom([1,1],[30,30],'#969696',traitColors,pfpCtx);

    pfpCanvas.style.width = displaySize;
    pfpCanvas.style.height = displaySize;
}

function appendCanvases() {
    const container = document.createElement('div');
    container.className = 'image-container';
    contextCanvas = document.createElement('canvas');
    container.appendChild(contextCanvas);
    pfpCanvas = document.createElement('canvas');
    pfpCanvas.classList.add('hidden');
    container.appendChild(pfpCanvas);
    document.body.appendChild(container);
    contextCanvas.addEventListener('click',toggleCanvasVisibility);
    pfpCanvas.addEventListener('click',toggleCanvasVisibility);
}

async function getMetadata(url,retry = false) {
    try {
        const collectionMetadataRes = await fetch(url);
        return await collectionMetadataRes.json();
    } catch (e) {
        if (!retry) {
            const timestamp = Math.floor(Date.now() / (60000 * 10)) //10 minutes
            const newUrl = `${url}?timestamp=${timestamp}`
            return getMetadata(newUrl,true)
        }
        throw e
    }
}

function simpleHash(input,mintdatetime) {
    const combinedInput = input + mintdatetime;
    let combinedHash = '';

    for (let j = 0; j < 5; j++) {
        let hash = 0;
        for (let i = 0; i < combinedInput.length; i++) {
            const char = combinedInput.charCodeAt(i) + j;
            hash = ((hash << 5) - hash) + char;
            hash |= 0;
        }
        combinedHash += Math.abs(hash).toString();
    }
    return combinedHash.substring(0,Math.max(20,combinedHash.length));
}

function extractDigitsFromHash(selectedColorIndexes) {
    const inputString = selectedColorIndexes.join(',');
    const hashString = simpleHash(inputString);
    const digits = [];
    for (let i = 0; i < 20; i++) {
        digits.push(parseInt(hashString[i]) % 10);
    }
    return digits;
}

function determineNumberOfExtraTraits(hash) {
    if (hash <= 5) {
        return 0;
    } else if (hash <= 20) {
        return 1;
    } else if (hash <= 50) {
        return 2;
    } else if (hash <= 85) {
        return 3;
    } else {
        return 4;
    }
}

window.onload = async function() {
    appendStyles();
    appendCanvases();

    try {
        const jsonColorData = await getMetadata(collectionJsonUrl);
        const allColors = jsonColorData.colors;
        const jsonCoordinateData = await getMetadata(baseJsonUrl);
        const baseCoordinates = jsonCoordinateData;

        const inputString = document.querySelector('script[t]').getAttribute('t');

        const pfp = inputString.slice(-1);
        const trimmedInputString = inputString.slice(0,-1);
        const selectedColorIndexes = Array.from(trimmedInputString).map(char => Number(char));
        const traitColors = selectedColorIndexes.map((selectedColor,i) => allColors[i] ? allColors[i][selectedColor] : null);

        const mintDateTime = document.querySelector('script[t]').getAttribute('d');
        const mintDate = new Date(mintDateTime * 1000 * 60);
        const now = new Date();

        const differenceInHours = (Math.floor(now.getTime() / 60000) - Math.floor(mintDate.getTime() / 60000)) / 60;
        const extractedDigits = extractDigitsFromHash(selectedColorIndexes);
        const numberOfExtraTraits = determineNumberOfExtraTraits((extractedDigits[0]*10 + extractedDigits[1]*10)/2);

        const artDigits = extractedDigits.slice(1);

        const progress = differenceInHours / (numberOfExtraTraits * 24);

        if (progress <= 1) {
          generateEgg(progress,traitColors);
        } else {
          generateArt(traitColors,baseCoordinates,artDigits,numberOfExtraTraits,allColors,pfp);
        }
    } catch (e) {
        console.error(e);
    }
};