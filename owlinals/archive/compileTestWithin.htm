<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Owlinals</title>
</head>
<body>
<script>
/*
{
  "p": "brc333",
  "op": "compile",
  "s": "owlinals"
}
*/

// EDIT
const extraTraitCoordinates = {
  "eye patch": {
    "primary": [[20,12], [21,12], [22,12], [23,12], [24,12], [14,13], [15,13], [16,13], [18,13], [19,13], [20,13], [11,14], [12,14], [13,14], [14,14], [15,14], [16,14], [17,14], [13,15], [14,15], [15,15], [16,15], [17,15], [13,16], [14,16], [15,16], [16,16], [17,16], [14,17], [15,17], [16,17]]
  },
  "yellow glasses": {
    "#fff200": [[14,13], [15,13], [16,13], [22,13], [23,13], [24,13], [13,14], [14,14], [16,14], [17,14], [21,14], [22,14], [24,14], [25,14], [13,15], [17,15], [21,15], [25,15], [13,16], [14,16], [16,16], [17,16], [21,16], [22,16], [24,16], [25,16], [14,17], [15,17], [16,17], [22,17], [23,17], [24,17]],
    "#ffc20e": [[15,14], [23,14], [11,15], [12,15], [14,15], [15,15], [16,15], [18,15], [19,15], [20,15], [22,15], [23,15], [24,15], [26,15], [27,15], [15,16], [23,16]]
  },
  "cat glasses": {
    "primary": [[13,14], [14,13], [14,14], [14,15], [15,14], [15,15], [15,16], [16,15], [22,15], [23,14], [23,15], [23,16], [24,13], [24,14], [24,15], [25,14]],
    "random": [[12,12], [13,12], [14,12], [15,12], [23,12], [24,12], [25,12], [26,12], [11,13], [12,13], [13,13], [15,13], [16,13], [17,13], [22,13], [23,13], [25,13], [26,13], [27,13], [11,14], [12,14], [16,14], [17,14], [21,14], [22,14], [26,14], [27,14], [12,15], [13,15], [17,15], [18,15], [20,15], [21,15], [25,15], [26,15], [13,16], [14,16], [16,16], [17,16], [18,16], [19,16], [20,16], [21,16], [22,16], [24,16], [25,16], [15,17], [16,17], [17,17], [21,17], [22,17], [23,17]]
  },
  "thug life glasses": {
    "#FF4040": [[11,13], [12,13], [13,13], [15,13], [16,13], [17,13], [18,13], [19,13], [20,13], [21,13], [23,13], [24,13], [25,13], [26,13], [27,13], [11,14], [12,14], [14,14], [16,14], [17,14], [18,14], [19,14], [20,14], [22,14], [24,14], [25,14], [26,14], [27,14], [12,15], [13,15], [15,15], [17,15], [18,15], [20,15], [21,15], [23,15], [25,15], [26,15], [13,16], [14,16], [16,16], [17,16], [21,16], [22,16], [24,16], [25,16], [14,17], [15,17], [16,17], [22,17], [23,17], [24,17]],
    "white": [[14,13], [22,13], [13,14], [15,14], [21,14], [23,14], [14,15], [16,15], [22,15], [24,15], [15,16], [23,16]]
  },
  "thick sunglasses": {
    "primary": [[13,13], [14,13], [15,13], [16,13], [17,13], [21,13], [22,13], [23,13], [24,13], [25,13], [11,14], [12,14], [13,14], [17,14], [18,14], [19,14], [20,14], [21,14], [25,14], [26,14], [27,14], [11,15], [12,15], [13,15], [17,15], [18,15], [19,15], [20,15], [21,15], [25,15], [26,15], [27,15], [13,16], [17,16], [21,16], [25,16], [13,17], [14,17], [15,17], [16,17], [17,17], [21,17], [22,17], [23,17], [24,17], [25,17]]
  },
  "wireframe glasses": {
    "primary": [[14,13], [15,13], [16,13], [22,13], [23,13], [24,13], [13,14], [17,14], [21,14], [25,14], [11,15], [12,15], [13,15], [17,15], [18,15], [19,15], [20,15], [21,15], [25,15], [26,15], [27,15], [13,16], [17,16], [21,16], [25,16], [14,17], [15,17], [16,17], [22,17], [23,17], [24,17]]
  },
  "wayfarer glasses": {
    "primary": [[11,13], [12,13], [13,13], [14,13], [15,13], [16,13], [17,13], [21,13], [22,13], [23,13], [24,13], [25,13], [26,13], [27,13], [11,14], [12,14], [13,14], [17,14], [18,14], [19,14], [20,14], [21,14], [25,14], [26,14], [27,14], [11,15], [12,15], [13,15], [17,15], [18,15], [19,15], [20,15], [21,15], [25,15], [26,15], [27,15], [13,16], [17,16], [21,16], [25,16], [13,17], [14,17], [15,17], [16,17], [17,17], [21,17], [22,17], [23,17], [24,17], [25,17]]
  },
  "monocle": {
    "primary": [[13,13], [14,13], [15,13], [16,13], [17,13], [13,14], [17,14], [13,15], [17,15], [13,16], [17,16], [13,17], [14,17], [15,17], [16,17], [17,17]]
  },
  "augmented eye": {
    "primary": [[13,13], [14,13], [15,13], [16,13], [17,13], [11,14], [12,14], [13,14], [17,14], [18,14], [19,14], [20,14], [21,14], [25,14], [26,14], [27,14], [13,15], [17,15], [13,16], [17,16], [13,17], [14,17], [15,17], [16,17], [17,17]]
  },
  "square patchie": {
    "primary": [[13,13], [14,13], [15,13], [16,13], [17,13], [11,14], [12,14], [13,14], [14,14], [15,14], [16,14], [17,14], [18,14], [19,14], [20,14], [21,14], [25,14], [26,14], [27,14], [13,15], [14,15], [15,15], [16,15], [17,15], [13,16], [14,16], [15,16], [16,16], [17,16], [13,17], [14,17], [15,17], [16,17], [17,17]]
  },
  "pirate patchie": {
    "primary": [[14,13], [15,13], [16,13], [11,14], [12,14], [13,14], [14,14], [15,14], [16,14], [17,14], [18,14], [19,14], [20,14], [21,14], [25,14], [26,14], [27,14], [13,15], [14,15], [15,15], [16,15], [17,15], [13,16], [14,16], [15,16], [16,16], [17,16], [14,17], [15,17], [16,17]]
  },
  "inmate suit": {
    "#FF4040": [[11,19], [12,19], [13,19], [14,19], [15,19], [16,19], [17,19], [18,19], [20,19], [21,19], [22,19], [23,19], [24,19], [25,19], [26,19], [27,19], [10,21], [11,21], [12,21], [13,21], [14,21], [15,21], [16,21], [17,21], [18,21], [19,21], [20,21], [21,21], [22,21], [23,21], [24,21], [25,21], [26,21], [27,21], [28,21], [12,23], [13,23], [14,23], [15,23], [16,23], [17,23], [18,23], [19,23], [20,23], [21,23], [22,23], [23,23], [24,23], [25,23], [26,23], [13,25], [14,25], [15,25], [16,25], [17,25], [18,25], [19,25], [20,25], [21,25], [22,25], [23,25], [24,25], [25,25], [16,27], [17,27], [21,27], [22,27]],
    "white": [[12,18], [13,18], [17,18], [18,18], [20,18], [21,18], [25,18], [26,18], [10,20], [11,20], [12,20], [13,20], [14,20], [15,20], [16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [23,20], [24,20], [25,20], [26,20], [27,20], [28,20], [12,22], [13,22], [14,22], [15,22], [16,22], [17,22], [18,22], [19,22], [20,22], [21,22], [22,22], [23,22], [24,22], [25,22], [26,22], [11,24], [12,24], [13,24], [14,24], [15,24], [16,24], [17,24], [18,24], [19,24], [20,24], [21,24], [22,24], [23,24], [24,24], [25,24], [26,24], [27,24], [13,26], [14,26], [15,26], [16,26], [17,26], [18,26], [19,26], [20,26], [21,26], [22,26], [23,26], [24,26], [25,26]]
  },
  "checkered suit": {
    "primary": [[12,19], [14,19], [16,19], [18,19], [20,19], [22,19], [24,19], [26,19], [10,20], [11,20], [12,20], [13,20], [14,20], [15,20], [16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [23,20], [24,20], [25,20], [26,20], [27,20], [28,20], [10,21], [12,21], [14,21], [16,21], [18,21], [20,21], [22,21], [24,21], [26,21], [28,21], [12,22], [13,22], [14,22], [15,22], [16,22], [17,22], [18,22], [19,22], [20,22], [21,22], [22,22], [23,22], [24,22], [25,22], [26,22], [12,23], [14,23], [16,23], [18,23], [20,23], [22,23], [24,23], [26,23], [11,24], [12,24], [13,24], [14,24], [15,24], [16,24], [17,24], [18,24], [19,24], [20,24], [21,24], [22,24], [23,24], [24,24], [25,24], [26,24], [27,24], [14,25], [16,25], [18,25], [20,25], [22,25], [24,25], [13,26], [14,26], [15,26], [16,26], [17,26], [18,26], [19,26], [20,26], [21,26], [22,26], [23,26], [24,26], [25,26], [16,27], [22,27]],
    "random": [[12,18], [18,18], [20,18], [26,18], [11,19], [13,19], [15,19], [17,19], [21,19], [23,19], [25,19], [27,19], [11,21], [13,21], [15,21], [17,21], [19,21], [21,21], [23,21], [25,21], [27,21], [13,23], [15,23], [17,23], [19,23], [21,23], [23,23], [25,23], [13,25], [15,25], [17,25], [19,25], [21,25], [23,25], [25,25], [17,27], [21,27]]
  },
  "checkerboard suit": {
    "primary": [[13,18], [17,18], [21,18], [25,18], [12,19], [14,19], [16,19], [18,19], [20,19], [22,19], [24,19], [26,19], [11,20], [13,20], [15,20], [17,20], [19,20], [21,20], [23,20], [25,20], [27,20], [10,21], [12,21], [14,21], [16,21], [18,21], [20,21], [22,21], [24,21], [26,21], [28,21], [13,22], [15,22], [17,22], [19,22], [21,22], [23,22], [25,22], [12,23], [14,23], [16,23], [18,23], [20,23], [22,23], [24,23], [26,23], [11,24], [13,24], [15,24], [17,24], [19,24], [21,24], [23,24], [25,24], [27,24], [14,25], [16,25], [18,25], [20,25], [22,25], [24,25], [13,26], [15,26], [17,26], [19,26], [21,26], [23,26], [25,26], [16,27], [22,27]],
    "random": [[12,18], [18,18], [20,18], [26,18], [11,19], [13,19], [15,19], [17,19], [21,19], [23,19], [25,19], [27,19], [10,20], [12,20], [14,20], [16,20], [18,20], [20,20], [22,20], [24,20], [26,20], [28,20], [11,21], [13,21], [15,21], [17,21], [19,21], [21,21], [23,21], [25,21], [27,21], [12,22], [14,22], [13,23], [15,23], [16,22], [18,22], [20,22], [22,22], [24,22], [26,22], [17,23], [19,23], [21,23], [23,23], [25,23], [12,24], [14,24], [16,24], [18,24], [20,24], [22,24], [24,24], [26,24], [13,25], [15,25], [17,25], [19,25], [21,25], [23,25], [25,25], [14,26], [16,26], [18,26], [20,26], [22,26], [24,26], [17,27], [21,27]]
  },
  "checkered robe": {
    "primary": [[13,18], [17,18], [21,18], [25,18], [12,19], [14,19], [16,19], [18,19], [20,19], [22,19], [24,19], [26,19], [10,20], [11,20], [12,20], [13,20], [14,20], [15,20], [16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [23,20], [24,20], [25,20], [26,20], [27,20], [28,20], [10,21], [12,21], [14,21], [16,21], [18,21], [20,21], [22,21], [24,21], [26,21], [28,21], [12,22], [13,22], [14,22], [15,22], [16,22], [17,22], [18,22], [19,22], [20,22], [21,22], [22,22], [23,22], [24,22], [25,22], [26,22], [12,23], [14,23], [16,23], [18,23], [20,23], [22,23], [24,23], [26,23], [11,24], [12,24], [13,24], [14,24], [15,24], [16,24], [17,24], [18,24], [19,24], [20,24], [21,24], [22,24], [23,24], [24,24], [25,24], [26,24], [27,24], [14,25], [16,25], [18,25], [20,25], [22,25], [24,25], [13,26], [14,26], [15,26], [16,26], [17,26], [18,26], [19,26], [20,26], [21,26], [22,26], [23,26], [24,26], [25,26], [14,27], [16,27], [18,27], [20,27], [22,27], [24,27], [13,28], [14,28], [15,28], [16,28], [17,28], [18,28], [19,28], [20,28], [21,28], [22,28], [23,28], [24,28], [25,28]],
    "random": [[12,18], [18,18], [20,18], [26,18], [11,19], [13,19], [15,19], [17,19], [21,19], [23,19], [25,19], [27,19], [11,21], [13,21], [15,21], [17,21], [19,21], [21,21], [23,21], [25,21], [27,21], [13,23], [15,23], [17,23], [19,23], [21,23], [23,23], [25,23], [13,25], [15,25], [17,25], [19,25], [21,25], [23,25], [25,25], [13,27], [15,27], [17,27], [19,27], [21,27], [23,27], [25,27]]
  },
  "see through kilt": {
    "primary": [[13,20], [14,20], [15,20], [16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [23,20], [24,20], [25,20], [13,21], [25,21], [13,22], [15,22], [16,22], [17,22], [18,22], [19,22], [20,22], [21,22], [22,22], [23,22], [25,22], [13,23], [15,23], [23,23], [25,23], [13,24], [15,24], [16,24], [17,24], [18,24], [19,24], [20,24], [21,24], [22,24], [23,24], [25,24], [13,25], [25,25], [13,26], [14,26], [15,26], [16,26], [17,26], [18,26], [19,26], [20,26], [21,26], [22,26], [23,26], [24,26], [25,26]]
  },
  "kilt": {
    "primary": [[13,20], [14,20], [15,20], [16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [23,20], [24,20], [25,20], [13,21], [25,21], [13,22], [15,22], [16,22], [17,22], [18,22], [19,22], [20,22], [21,22], [22,22], [23,22], [25,22], [13,23], [15,23], [23,23], [25,23], [13,24], [15,24], [16,24], [17,24], [18,24], [19,24], [20,24], [21,24], [22,24], [23,24], [25,24], [13,25], [25,25], [13,26], [14,26], [15,26], [16,26], [17,26], [18,26], [19,26], [20,26], [21,26], [22,26], [23,26], [24,26], [25,26]],
    "random": [[14,21], [15,21], [16,21], [17,21], [18,21], [19,21], [20,21], [21,21], [22,21], [23,21], [24,21], [14,22], [24,22], [14,23], [16,23], [17,23], [18,23], [19,23], [20,23], [21,23], [22,23], [24,23], [14,24], [24,24], [14,25], [15,25], [16,25], [17,25], [18,25], [19,25], [20,25], [21,25], [22,25], [23,25], [24,25]]
  },
  "jump suit": {
    "primary": [[13,18], [17,18], [21,18], [25,18], [12,19], [14,19], [16,19], [18,19], [20,19], [22,19], [24,19], [26,19], [11,20], [13,20], [15,20], [17,20], [19,20], [21,20], [23,20], [25,20], [27,20], [10,21], [12,21], [14,21], [16,21], [18,21], [20,21], [22,21], [24,21], [26,21], [28,21], [12,22], [13,22], [14,22], [15,22], [16,22], [17,22], [18,22], [19,22], [20,22], [21,22], [22,22], [23,22], [24,22], [25,22], [26,22], [12,23], [14,23], [16,23], [18,23], [20,23], [22,23], [24,23], [26,23], [11,24], [13,24], [15,24], [17,24], [19,24], [21,24], [23,24], [25,24], [27,24], [14,25], [16,25], [18,25], [20,25], [22,25], [24,25], [13,26], [15,26], [17,26], [19,26], [21,26], [23,26], [25,26], [16,27], [22,27]],
    "random": [[12,18], [18,18], [20,18], [26,18], [11,19], [13,19], [15,19], [17,19], [21,19], [23,19], [25,19], [27,19], [10,20], [12,20], [14,20], [16,20], [18,20], [20,20], [22,20], [24,20], [26,20], [28,20], [11,21], [13,21], [15,21], [17,21], [19,21], [21,21], [23,21], [25,21], [27,21], [13,23], [15,23], [17,23], [19,23], [21,23], [23,23], [25,23], [12,24], [14,24], [16,24], [18,24], [20,24], [22,24], [24,24], [26,24], [13,25], [15,25], [17,25], [19,25], [21,25], [23,25], [25,25], [14,26], [16,26], [18,26], [20,26], [22,26], [24,26], [17,27], [21,27]]
  },
  "footie": {
    "random": [[12,18], [13,18], [17,18], [18,18], [20,18], [21,18], [25,18], [26,18], [11,19], [12,19], [13,19], [14,19], [15,19], [16,19], [17,19], [18,19], [20,19], [21,19], [22,19], [23,19], [24,19], [25,19], [26,19], [27,19], [10,20], [11,20], [12,20], [13,20], [14,20], [15,20], [16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [23,20], [24,20], [25,20], [26,20], [27,20], [28,20], [10,21], [11,21], [12,21], [13,21], [14,21], [15,21], [16,21], [17,21], [18,21], [20,21], [21,21], [22,21], [23,21], [24,21], [25,21], [26,21], [27,21], [28,21], [10,22], [11,22], [12,22], [13,22], [14,22], [15,22], [16,22], [17,22], [18,22], [19,22], [20,22], [21,22], [22,22], [23,22], [24,22], [25,22], [26,22], [27,22], [28,22], [10,23], [13,23], [14,23], [15,23], [16,23], [17,23], [18,23], [20,23], [21,23], [22,23], [23,23], [24,23], [25,23], [28,23], [13,24], [14,24], [15,24], [16,24], [17,24], [18,24], [19,24], [20,24], [21,24], [22,24], [23,24], [24,24], [25,24], [13,25], [14,25], [15,25], [16,25], [17,25], [18,25], [20,25], [21,25], [22,25], [23,25], [24,25], [25,25], [13,26], [14,26], [15,26], [16,26], [17,26], [18,26], [19,26], [20,26], [21,26], [22,26], [23,26], [24,26], [25,26], [16,27], [17,27], [21,27], [22,27], [15,28], [16,28], [17,28], [18,28], [20,28], [21,28], [22,28], [23,28]],
    "primary": [[19,21], [19,23], [19,25]]
  },
  "satoshi shirt": {
    "#FF4040": [[17,19], [18,19], [19,19], [20,19], [21,19], [16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [16,21], [19,21], [22,21], [16,22], [19,22], [22,22], [15,23], [16,23], [17,23], [18,23], [19,23], [20,23], [21,23], [22,23], [23,23], [15,24], [16,24], [17,24], [18,24], [19,24], [20,24], [21,24], [22,24], [23,24], [16,25], [17,25], [21,25], [22,25], [17,26], [18,26], [19,26], [20,26], [21,26]],
    "white": [[18,22], [21,22]],
    "black": [[17,21], [18,21], [19,23], [20,21], [21,21], [17,22], [20,22], [18,25], [19,25], [20,25]],
    "#ffc20e": [[11,19], [12,19], [13,19], [14,19], [15,19], [16,19], [22,19], [23,19], [24,19], [25,19], [26,19], [27,19], [10,20], [11,20], [12,20], [13,20], [14,20], [15,20], [23,20], [24,20], [25,20], [26,20], [27,20], [28,20], [10,21], [11,21], [12,21], [13,21], [14,21], [15,21], [23,21], [24,21], [25,21], [26,21], [27,21], [28,21], [13,22], [14,22], [15,22], [23,22], [24,22], [25,22], [13,23], [14,23], [24,23], [25,23], [13,24], [14,24], [24,24], [25,24], [13,25], [14,25], [15,25], [23,25], [24,25], [25,25], [13,26], [14,26], [15,26], [16,26], [22,26], [23,26], [24,26], [25,26]]
  },
  "lighting bolt shirt": {
    "white": [[20,21], [19,22], [20,22], [18,23], [19,23], [18,24]],
    "#FF4040": [[16,19], [17,19], [18,19], [20,19], [21,19], [21,20], [22,19], [22,20], [16,20], [17,20], [18,20], [19,20], [20,20], [16,21], [17,21], [18,21], [19,21], [22,21], [16,22], [17,22], [18,22], [21,21], [21,22], [22,22], [16,23], [17,23], [20,23], [21,23], [22,23], [16,24], [17,24], [19,24], [20,24], [21,24], [22,24], [16,25], [17,25], [18,25], [19,25], [20,25], [21,25], [22,25], [17,26], [18,26], [19,26], [20,26], [21,26]]
  },
  "seven": {
    "#ff4040": [[17,21], [18,21], [19,21], [20,21], [21,21], [20,22], [21,22], [19,23], [20,23], [18,24], [19,24], [18,25]],
    "#ffc20e": [[15,19], [16,19], [17,19], [18,19], [20,19], [21,19], [22,19], [23,19], [15,20], [23,20], [15,21], [23,21], [15,22], [23,22], [15,23], [23,23], [15,24], [23,24], [15,25], [23,25], [15,26], [23,26]],
    "#546d8e": [[16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [16,21], [22,21], [16,22], [17,22], [18,22], [19,22], [22,22], [16,23], [17,23], [18,23], [21,23], [22,23], [16,24], [17,24], [20,24], [21,24], [22,24], [16,25], [17,25], [19,25], [20,25], [21,25], [22,25], [16,26], [17,26], [18,26], [19,26], [20,26], [21,26], [22,26]]
  },
  "gold chain with medallion": {
    "#ffc20e": [[13,18], [14,19], [24,19], [25,18], [15,20], [23,20], [16,21], [22,21], [17,22], [19,22], [21,22], [18,23], [19,23], [20,23], [19,24]],
    "primary": [[12,19], [13,19], [17,18], [18,18], [20,18], [21,18], [25,19], [26,18], [26,19], [11,19], [15,19], [16,19], [17,19], [18,19], [20,19], [21,19], [22,19], [23,19], [10,20], [11,20], [12,20], [13,20], [14,20], [16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [24,20], [25,20], [26,20], [27,20], [28,20], [10,21], [11,21], [12,21], [13,21], [14,21], [15,21], [17,21], [18,21], [19,21], [20,21], [21,21], [23,21], [24,21], [25,21], [26,21], [27,21], [28,21], [10,22], [11,22], [12,22], [13,22], [14,22], [15,22], [16,22], [18,22], [20,22], [22,22], [23,22], [24,22], [25,22], [26,22], [27,22], [28,22], [10,23], [13,23], [14,23], [15,23], [16,23], [17,23], [21,23], [22,23], [23,23], [24,23], [25,23], [28,23], [13,24], [14,24], [15,24], [16,24], [17,24], [18,24], [20,24], [21,24], [22,24], [23,24], [24,24], [25,24], [13,25], [14,25], [15,25], [16,25], [17,25], [18,25], [19,25], [20,25], [21,25], [22,25], [23,25], [24,25], [25,25], [19,23]]
  },
  "gold chain with gem": {
    "#ffc20e": [[11,19], [12,19], [26,19], [27,19], [12,20], [13,20], [25,20], [26,20], [13,21], [14,21], [24,21], [25,21], [14,22], [15,22], [17,22], [18,22], [19,22], [20,22], [21,22], [23,22], [24,22], [15,23], [16,23], [17,23], [18,23], [20,23], [21,23], [22,23], [23,23], [17,24], [18,24], [19,24], [20,24], [21,24]],
    "primaryRandom": [[19,23]],
    "primary": [[12,18], [13,18], [17,18], [18,18], [20,18], [21,18], [25,18], [26,18], [13,19], [14,19], [15,19], [16,19], [17,19], [18,19], [20,19], [21,19], [22,19], [23,19], [24,19], [25,19], [10,20], [11,20], [14,20], [15,20], [16,20], [17,20], [18,20], [19,20], [20,20], [21,20], [22,20], [23,20], [24,20], [27,20], [28,20], [10,21], [11,21], [12,21], [15,21], [16,21], [17,21], [18,21], [19,21], [20,21], [21,21], [22,21], [23,21], [26,21], [27,21], [28,21], [10,22], [11,22], [12,22], [13,22], [16,22], [22,22], [25,22], [26,22], [27,22], [28,22], [10,23], [13,23], [14,23], [24,23], [25,23], [28,23], [13,24], [14,24], [15,24], [16,24], [22,24], [23,24], [24,24], [25,24], [13,25], [14,25], [15,25], [16,25], [17,25], [18,25], [19,25], [20,25], [21,25], [22,25], [23,25], [24,25], [25,25]]
  },
  "square sun": {
    "#f9d71c": [[24,2], [25,2], [26,2], [27,2], [28,2], [24,3], [25,3], [26,3], [27,3], [28,3], [24,4], [25,4], [26,4], [27,4], [28,4], [24,5], [25,5], [26,5], [27,5], [28,5], [24,6], [25,6], [26,6], [27,6], [28,6]]
  },
  "sun": {
    "#f9d71c": [[23,2], [24,2], [25,2], [22,3], [23,3], [24,3], [25,3], [26,3], [22,4], [23,4], [24,4], [25,4], [26,4], [22,5], [23,5], [24,5], [25,5], [26,5], [23,6], [24,6], [25,6]]
  },
  "cloud": {
    "cloud": [[10,2], [12,2], [13,2], [9,3], [11,3], [13,3], [14,3], [10,4], [12,4], [14,4], [15,4], [11,5], [13,5], [11,2], [14,2], [10,3], [12,3], [15,3], [11,4], [13,4], [16,4], [12,5], [14,5]]
  },
  "cloudy sky": {
    "clouds": [[1,1], [9,1], [10,1], [11,1], [12,1], [15,1], [16,1], [17,1], [19,1], [20,1], [21,1], [22,1], [24,1], [25,1], [26,1], [28,1], [29,1], [30,1], [12,2], [13,2], [14,2], [15,2], [17,2], [18,2], [19,2], [22,2], [23,2], [24,2], [25,2], [26,2], [27,2], [28,2], [30,2], [1,3], [9,3], [10,3], [11,3], [15,3], [19,3], [20,3], [21,3], [22,3], [23,3], [24,3], [28,3], [11,4], [12,4], [13,4], [14,4], [15,4], [16,4], [17,4], [18,4], [19,4], [23,4], [24,4], [25,4], [26,4], [27,4], [28,4], [29,4], [30,4], [1,5], [9,5], [10,5], [11,5], [12,5], [13,5], [14,5], [16,5], [17,5], [18,5], [20,5], [21,5], [23,5], [24,5], [25,5], [27,5], [28,5], [30,5], [1,6], [9,6], [12,6], [19,6], [20,6], [21,6], [22,6], [26,6], [13,1], [14,1], [18,1], [23,1], [27,1], [1,2], [9,2], [10,2], [11,2], [16,2], [20,2], [21,2], [29,2], [12,3], [13,3], [14,3], [16,3], [17,3], [18,3], [25,3], [26,3], [27,3], [29,3], [30,3], [1,4], [9,4], [10,4], [20,4], [21,4], [22,4], [15,5], [19,5], [22,5], [26,5], [29,5], [10,6], [11,6], [13,6], [14,6], [15,6], [16,6], [17,6], [18,6], [23,6], [24,6], [25,6], [27,6], [28,6], [29,6], [30,6]]
  },
  "chemtrails": {
    "white": [[1,1], [9,1], [10,1], [11,1], [12,1], [13,1], [14,1], [15,1], [16,1], [17,1], [18,1], [19,1], [20,1], [21,1], [22,1], [23,1], [24,1], [25,1], [26,1], [27,1], [28,1], [29,1], [30,1], [1,3], [9,3], [10,3], [11,3], [12,3], [13,3], [14,3], [15,3], [16,3], [17,3], [18,3], [19,3], [20,3], [21,3], [22,3], [23,3], [24,3], [25,3], [26,3], [27,3], [28,3], [29,3], [30,3], [1,5], [9,5], [10,5], [11,5], [12,5], [13,5], [14,5], [15,5], [16,5], [17,5], [18,5], [19,5], [20,5], [21,5], [22,5], [23,5], [24,5], [25,5], [26,5], [27,5], [28,5], [29,5], [30,5]],
    "sky": [[1,2], [9,2], [10,2], [11,2], [12,2], [13,2], [14,2], [15,2], [16,2], [17,2], [18,2], [19,2], [20,2], [21,2], [22,2], [23,2], [24,2], [25,2], [26,2], [27,2], [28,2], [29,2], [30,2], [1,4], [9,4], [10,4], [11,4], [12,4], [13,4], [14,4], [15,4], [16,4], [17,4], [18,4], [19,4], [20,4], [21,4], [22,4], [23,4], [24,4], [25,4], [26,4], [27,4], [28,4], [29,4], [30,4], [1,6], [9,6], [10,6], [11,6], [12,6], [13,6], [14,6], [15,6], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [23,6], [24,6], [25,6], [26,6], [27,6], [28,6], [29,6], [30,6]]
  },
  "striped sky": {
    "base": [[1,1], [9,1], [10,1], [11,1], [12,1], [13,1], [14,1], [15,1], [16,1], [17,1], [18,1], [19,1], [20,1], [21,1], [22,1], [23,1], [24,1], [25,1], [26,1], [27,1], [28,1], [29,1], [30,1], [1,4], [9,4], [10,4], [11,4], [12,4], [13,4], [14,4], [15,4], [16,4], [17,4], [18,4], [19,4], [20,4], [21,4], [22,4], [23,4], [24,4], [25,4], [26,4], [27,4], [28,4], [29,4], [30,4]],
    "stripe": [[1,2], [9,2], [10,2], [11,2], [12,2], [13,2], [14,2], [15,2], [16,2], [17,2], [18,2], [19,2], [20,2], [21,2], [22,2], [23,2], [24,2], [25,2], [26,2], [27,2], [28,2], [29,2], [30,2], [1,5], [9,5], [10,5], [11,5], [12,5], [13,5], [14,5], [15,5], [16,5], [17,5], [18,5], [19,5], [20,5], [21,5], [22,5], [23,5], [24,5], [25,5], [26,5], [27,5], [28,5], [29,5], [30,5], [1,3], [9,3], [10,3], [11,3], [12,3], [13,3], [14,3], [15,3], [16,3], [17,3], [18,3], [19,3], [20,3], [21,3], [22,3], [23,3], [24,3], [25,3], [26,3], [27,3], [28,3], [29,3], [30,3], [1,6], [9,6], [10,6], [11,6], [12,6], [13,6], [14,6], [15,6], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [23,6], [24,6], [25,6], [26,6], [27,6], [28,6], [29,6], [30,6]]
  },
  "cloud 3": {
    "#e5aa7a": [[10,2], [12,2], [13,2], [9,3], [11,3], [14,3], [10,4], [15,4], [11,5], [13,5], [14,5]],
    "#ff7e00": [[11,2], [14,2], [10,3], [12,3], [13,3], [15,3], [11,4], [12,4], [13,4], [14,4], [16,4], [12,5]]
  },
  "cloud 2": {
    "color": [[15,2], [16,2], [14,3], [17,3], [18,3], [12,4], [13,4], [16,4], [18,4], [19,4], [14,5], [17,5], [15,3], [16,3], [14,4], [15,4], [17,4], [13,5], [15,5], [16,5]]
  },
  "squigly sky": {
    "squigle": [[1,1], [1,2], [1,3], [1,4], [1,5], [1,6], [10,1], [12,1], [13,1], [14,1], [16,1], [17,1], [18,1], [20,1], [21,1], [22,1], [24,1], [25,1], [26,1], [28,1], [29,1], [30,1], [10,2], [12,2], [14,2], [16,2], [18,2], [20,2], [22,2], [24,2], [26,2], [28,2], [30,2], [10,3], [12,3], [14,3], [16,3], [18,3], [20,3], [22,3], [24,3], [26,3], [28,3], [30,3], [10,4], [12,4], [14,4], [16,4], [18,4], [20,4], [22,4], [24,4], [26,4], [28,4], [30,4], [10,5], [12,5], [14,5], [16,5], [18,5], [20,5], [22,5], [24,5], [26,5], [28,5], [30,5], [10,6], [11,6], [12,6], [14,6], [15,6], [16,6], [18,6], [19,6], [20,6], [22,6], [23,6], [24,6], [26,6], [27,6], [28,6], [30,6]]
  },
  "high sky": {
    "#ed1c24": [[1,1], [9,1], [10,1], [11,1], [12,1], [13,1], [14,1], [15,1], [16,1], [17,1], [18,1], [19,1], [20,1], [21,1], [22,1], [23,1], [24,1], [25,1], [26,1], [27,1], [28,1], [29,1], [30,1], [1,2], [9,2], [10,2], [11,2], [12,2], [13,2], [14,2], [15,2], [16,2], [17,2], [18,2], [19,2], [20,2], [21,2], [22,2], [23,2], [24,2], [25,2], [26,2], [27,2], [28,2], [29,2], [30,2], [1,3], [9,3], [10,3], [11,3], [12,3], [13,3], [14,3], [15,3], [16,3], [17,3], [18,3], [19,3], [20,3], [21,3], [22,3], [23,3], [24,3], [25,3], [26,3], [27,3], [28,3], [29,3], [30,3], [1,4], [9,4], [10,4], [11,4], [12,4], [13,4], [14,4], [15,4], [16,4], [17,4], [18,4], [19,4], [20,4], [21,4], [22,4], [23,4], [24,4], [25,4], [26,4], [27,4], [28,4], [29,4], [30,4], [1,5], [9,5], [10,5], [11,5], [12,5], [13,5], [14,5], [15,5], [16,5], [17,5], [18,5], [19,5], [20,5], [21,5], [22,5], [23,5], [24,5], [25,5], [26,5], [27,5], [28,5], [29,5], [30,5], [1,6], [9,6], [10,6], [11,6], [12,6], [13,6], [14,6], [15,6], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [23,6], [24,6], [25,6], [26,6], [27,6], [28,6], [29,6], [30,6]]
  },
  "midday sky": {
    "#ed1c24": [[1,1], [9,1], [10,1], [11,1], [12,1], [13,1], [14,1], [15,1], [16,1], [17,1], [18,1], [19,1], [20,1], [21,1], [22,1], [23,1], [24,1], [25,1], [26,1], [27,1], [28,1], [29,1], [30,1], [1,2], [9,2], [10,2], [11,2], [12,2], [13,2], [14,2], [15,2], [16,2], [17,2], [18,2], [19,2], [20,2], [21,2], [22,2], [23,2], [24,2], [25,2], [26,2], [27,2], [28,2], [29,2], [30,2], [1,3], [9,3], [10,3], [11,3], [12,3], [13,3], [14,3], [15,3], [16,3], [17,3], [18,3], [19,3], [20,3], [21,3], [22,3], [23,3], [24,3], [25,3], [26,3], [27,3], [28,3], [29,3], [30,3], [1,4], [9,4], [10,4], [11,4], [12,4], [13,4], [14,4], [15,4], [16,4], [17,4], [18,4], [19,4], [20,4], [21,4], [22,4], [23,4], [24,4], [25,4], [26,4], [27,4], [28,4], [29,4], [30,4], [1,5], [9,5], [10,5], [11,5], [12,5], [13,5], [14,5], [15,5], [16,5], [17,5], [18,5], [19,5], [20,5], [21,5], [22,5], [23,5], [24,5], [25,5], [26,5], [27,5], [28,5], [29,5], [30,5], [1,6], [9,6], [10,6], [11,6], [12,6], [13,6], [14,6], [15,6], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [23,6], [24,6], [25,6], [26,6], [27,6], [28,6], [29,6], [30,6], [1,7], [9,7], [10,7], [11,7], [12,7], [13,7], [14,7], [15,7], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [23,7], [24,7], [25,7], [26,7], [27,7], [28,7], [29,7], [30,7], [1,8], [9,8], [10,8], [13,8], [14,8], [15,8], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [23,8], [24,8], [25,8], [28,8], [29,8], [30,8], [1,9], [9,9], [10,9], [11,9], [27,9], [28,9], [29,9], [30,9], [1,10], [9,10], [10,10], [11,10], [12,10], [26,10], [27,10], [28,10], [29,10], [30,10], [1,11], [9,11], [10,11], [11,11], [12,11], [13,11], [14,11], [15,11], [23,11], [24,11], [25,11], [26,11], [27,11], [28,11], [29,11], [30,11], [1,12], [9,12], [10,12], [11,12], [13,12], [25,12], [27,12], [28,12], [29,12], [30,12], [1,13], [9,13], [10,13], [28,13], [29,13], [30,13], [1,14], [9,14], [10,14], [28,14], [29,14], [30,14], [1,15], [9,15], [10,15], [28,15], [29,15], [30,15], [1,16], [9,16], [10,16], [28,16], [29,16], [30,16], [1,17], [9,17], [10,17], [28,17], [29,17], [30,17], [1,18], [9,18], [10,18], [11,18], [27,18], [28,18], [29,18], [30,18]]
  },
  "brilliant sun": {
    "#fff200": [[26,2], [25,3], [26,3], [27,3], [24,4], [25,4], [26,4], [27,4], [28,4], [25,5], [26,5], [27,5], [26,6]]
  },
  "upper tree branch": {
    "tree 2": [[15,1], [18,1], [1,2], [14,2], [10,4], [9,5], [1,7]],
    "tree": [[1,1], [13,1], [14,1], [16,1], [17,1], [19,1], [20,1], [21,1], [11,2], [12,2], [13,2], [15,2], [16,2], [1,3], [10,3], [11,3], [12,3], [13,3], [14,3], [9,4], [11,4], [12,4], [10,5], [1,6], [9,6], [10,6], [9,7], [1,8], [1,9]]
  },
  "bark": {
    "#9c5a3c": [[8,1], [2,2], [3,2], [4,2], [5,2], [6,2], [7,2], [8,2], [2,3], [2,4], [3,4], [4,4], [5,4], [6,4], [7,4], [8,4], [8,5], [2,6], [3,6], [4,6], [5,6], [6,6], [7,6], [8,6], [2,7], [2,8], [3,8], [4,8], [5,8], [6,8], [7,8], [8,8], [8,9], [2,10], [3,10], [4,10], [5,10], [6,10], [7,10], [8,10], [2,11], [2,12], [3,12], [4,12], [5,12], [6,12], [7,12], [8,12], [8,13], [2,14], [3,14], [4,14], [5,14], [6,14], [7,14], [8,14], [2,15], [2,16], [3,16], [4,16], [5,16], [6,16], [7,16], [8,16], [8,17], [2,18], [3,18], [4,18], [5,18], [6,18], [7,18], [8,18], [2,19], [2,20], [3,20], [4,20], [5,20], [6,20], [7,20], [8,20], [8,21], [2,22], [3,22], [4,22], [5,22], [6,22], [7,22], [8,22], [2,23], [2,24], [3,24], [4,24], [5,24], [6,24], [7,24], [8,24], [8,25], [2,26], [3,26], [4,26], [5,26], [6,26], [7,26], [8,26], [2,27], [2,28], [3,28], [4,28], [5,28], [6,28], [7,28], [8,28], [8,29], [2,30], [3,30], [4,30], [5,30], [6,30], [7,30], [8,30]]
  },
  "mohawk": {
    "primaryRandom": [[19,6], [18,7], [19,7], [20,7], [18,8], [19,8], [20,8], [18,9], [19,9], [20,9], [19,10]]
  },
  "beret": {
    "primaryRandom": [[19,6], [15,7], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [23,7], [15,8], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [23,8], [15,9], [16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9], [23,9]]
  },
  "poohbah hat": {
    "#990030": [[17,4], [18,4], [19,4], [20,4], [21,4], [16,5], [17,5], [18,5], [19,5], [20,5], [21,5], [22,5], [15,6], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [23,6], [15,7], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [23,7], [15,8], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [23,8], [15,9], [16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9], [23,9]]
  },
  "two tone poohbah hat": {
    "#9c5a3c": [[17,5], [18,5], [19,5], [20,5], [21,5], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8]],
    "#990030": [[17,4], [18,4], [19,4], [20,4], [21,4], [16,5], [22,5], [15,6], [23,6], [15,7], [23,7], [15,8], [23,8], [15,9], [16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9], [23,9]]
  },
  "tin foil hat": {
    "#AAAEAF": [[18,4], [19,4], [20,4], [17,5], [18,5], [19,5], [20,5], [21,5], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [15,7], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [23,7], [14,8], [15,8], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [23,8], [24,8], [17,10], [18,10], [19,10], [20,10], [21,10], [18,11], [19,11], [20,11]],
    "band": [[16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9]]
  },
  "top hat with patch": {
    "primaryRandom": [[17,4], [18,4], [19,4], [20,4], [21,4], [17,5], [18,5], [19,5], [20,5], [21,5], [17,6], [18,6], [19,6], [20,6], [21,6], [17,7], [21,7], [17,8], [21,8], [15,9], [16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9], [23,9]],
    "patch": [[18,7], [19,7], [20,7], [18,8], [19,8], [20,8]]
  },
  "reverse pyramid hat": {
    "stripe": [[14,9], [15,9], [16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9], [23,9], [24,9], [19,13], [17,11], [18,11], [19,11], [20,11], [21,11], [15,10], [16,10], [17,10], [18,10], [19,10], [20,10], [21,10], [22,10], [23,10], [18,12], [19,12], [20,12]]
  },
  "drip hat": {
    "hat": [[16,5], [17,5], [18,5], [19,5], [20,5], [21,5], [22,5], [16,6], [17,6], [21,6], [22,6], [16,7], [17,7], [21,7], [22,7], [14,8], [15,8], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [23,8], [24,8], [15,9], [16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9], [23,9], [16,10], [17,10], [18,10], [19,10], [20,10], [21,10], [22,10], [17,11], [18,11], [19,11], [20,11], [21,11]],
    "primary": [[18,6], [19,6], [20,6], [18,7], [19,7], [20,7]]
  },
  "box hat": {
    "#00b7ef": [[16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [15,9], [16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9], [23,9]]
  },
  "cap": {
    "cap": [[17,6], [18,6], [19,6], [20,6], [21,6], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [17,10], [18,10], [19,10], [20,10], [21,10], [18,11], [19,11], [20,11]],
    "band": [[16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9]]
  },
  "rasta cap": {
    "cap": [[18,4], [19,4], [20,4], [17,5], [18,5], [19,5], [20,5], [21,5], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [15,7], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [23,7], [15,8], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [23,8], [17,10], [18,10], [19,10], [20,10], [21,10], [18,11], [19,11], [20,11]],
    "primary": [[16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9]]
  },
  "baseball cap": {
    "cap": [[18,4], [19,4], [20,4], [17,5], [18,5], [19,5], [20,5], [21,5], [16,6], [17,6], [21,6], [22,6], [16,7], [17,7], [21,7], [22,7], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [17,10], [18,10], [19,10], [20,10], [21,10], [18,11], [19,11], [20,11]],
    "primary": [[18,6], [19,6], [20,6], [18,7], [19,7], [20,7], [16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9]]
  },
  "buzzcut": {
    "base": [[13,7], [15,7], [17,7], [19,7], [21,7], [23,7], [25,7], [13,8], [15,8], [17,8], [19,8], [21,8], [23,8], [25,8]],
    "near": [[14,7], [16,7], [18,7], [20,7], [22,7], [24,7], [14,8], [16,8], [18,8], [20,8], [22,8], [24,8]]
  },
  "spikey hair": {
    "primaryRandom": [[13,5], [15,5], [17,5], [19,5], [21,5], [23,5], [25,5], [13,6], [15,6], [17,6], [19,6], [21,6], [23,6], [25,6], [13,7], [15,7], [17,7], [19,7], [21,7], [23,7], [25,7], [13,8], [15,8], [17,8], [19,8], [21,8], [23,8], [25,8]],
    "near": [[14,7], [16,7], [18,7], [20,7], [22,7], [24,7], [14,8], [16,8], [18,8], [20,8], [22,8], [24,8]]
  },
  "spikey hair 2": {
    "primaryRandom": [[14,5], [16,5], [18,5], [20,5], [22,5], [24,5], [14,6], [16,6], [18,6], [20,6], [22,6], [24,6], [13,7], [15,7], [17,7], [19,7], [21,7], [23,7], [25,7], [13,8], [15,8], [17,8], [19,8], [21,8], [23,8], [25,8]],
    "near": [[14,7], [16,7], [18,7], [20,7], [22,7], [24,7], [14,8], [16,8], [18,8], [20,8], [22,8], [24,8]]
  },
  "swoosh hair": {
    "primaryRandom": [[22,5], [24,5], [18,6], [20,6], [22,6], [24,6], [13,7], [15,7], [17,7], [19,7], [21,7], [23,7], [25,7], [13,8], [15,8], [17,8], [19,8], [21,8], [23,8], [25,8], [21,9], [23,9]],
    "near": [[21,5], [23,5], [19,6], [21,6], [23,6], [14,7], [16,7], [18,7], [20,7], [22,7], [24,7], [14,8], [16,8], [18,8], [20,8], [22,8], [24,8], [20,9], [22,9], [24,9]]
  },
  "afro": {
    "primaryRandom": [[15,1], [16,1], [17,1], [18,1], [19,1], [20,1], [21,1], [22,1], [23,1], [13,2], [14,2], [15,2], [16,2], [22,2], [23,2], [24,2], [25,2], [12,3], [13,3], [14,3], [24,3], [25,3], [26,3], [12,4], [16,4], [17,4], [18,4], [20,4], [21,4], [22,4], [26,4], [12,5], [14,5], [15,5], [16,5], [17,5], [18,5], [19,5], [20,5], [21,5], [22,5], [23,5], [24,5], [26,5], [12,6], [14,6], [15,6], [23,6], [24,6], [26,6], [12,7], [15,7], [18,7], [20,7], [23,7], [26,7], [12,8], [13,8], [15,8], [16,8], [18,8], [19,8], [20,8], [22,8], [23,8], [25,8], [26,8], [13,9], [16,9], [22,9], [25,9], [13,10], [14,10], [16,10], [17,10], [18,10], [19,10], [20,10], [21,10], [22,10], [24,10], [25,10], [14,11], [24,11], [14,12], [15,12], [16,12], [17,12], [18,12], [19,12], [20,12], [21,12], [22,12], [23,12], [24,12], [19,13]],
    "near": [[17,2], [18,2], [19,2], [20,2], [21,2], [15,3], [16,3], [17,3], [18,3], [19,3], [20,3], [21,3], [22,3], [23,3], [13,4], [14,4], [15,4], [19,4], [23,4], [24,4], [25,4], [13,5], [25,5], [13,6], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [25,6], [13,7], [14,7], [16,7], [17,7], [19,7], [21,7], [22,7], [24,7], [25,7], [14,8], [17,8], [21,8], [24,8], [14,9], [15,9], [17,9], [18,9], [19,9], [20,9], [21,9], [23,9], [24,9], [15,10], [23,10], [15,11], [16,11], [17,11], [18,11], [19,11], [20,11], [21,11], [22,11], [23,11]]
  },
  "halo": {
    "white": [[13,5], [14,5], [15,5], [16,5], [17,5], [18,5], [19,5], [20,5], [21,5], [22,5], [23,5], [24,5], [25,5], [13,6], [25,6], [13,7], [14,7], [15,7], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [23,7], [24,7], [25,7]]
  },
  "devil horns": {
    "#FF0000": [[15,5], [23,5], [15,6], [23,6], [15,7], [23,7], [14,8], [15,8], [16,8], [22,8], [23,8], [24,8]]
  },
  "antlers": {
    "primaryRandom": [[16,3], [22,3], [14,4], [16,4], [22,4], [24,4], [13,5], [14,5], [16,5], [18,5], [20,5], [22,5], [24,5], [25,5], [14,6], [16,6], [18,6], [20,6], [22,6], [24,6], [14,7], [15,7], [16,7], [17,7], [18,7], [20,7], [21,7], [22,7], [23,7], [24,7], [16,8], [22,8]]
  },
  "ranger hat": {
    "#9c5a3c": [[17,5], [18,5], [19,5], [20,5], [21,5], [16,6], [17,6], [18,6], [19,6], [20,6], [21,6], [22,6], [16,7], [17,7], [18,7], [19,7], [20,7], [21,7], [22,7], [13,9], [14,9], [15,9], [16,9], [17,9], [18,9], [19,9], [20,9], [21,9], [22,9], [23,9], [24,9], [25,9]],
    "#990030": [[17,4], [18,4], [19,4], [20,4], [21,4], [16,5], [22,5], [15,6], [23,6], [15,7], [23,7], [15,8], [16,8], [17,8], [18,8], [19,8], [20,8], [21,8], [22,8], [23,8]]
  },
  "bat ears": {
    "#00008B": [[11,6], [12,6], [26,6], [27,6], [11,7], [12,7], [13,7], [25,7], [26,7], [27,7], [11,8], [12,8], [13,8], [25,8], [26,8], [27,8], [11,9], [12,9], [13,9], [14,9], [24,9], [25,9], [26,9], [27,9], [11,10], [12,10], [13,10], [14,10], [15,10], [23,10], [24,10], [25,10], [26,10], [27,10], [11,11], [12,11], [13,11], [14,11], [15,11], [23,11], [24,11], [25,11], [26,11], [27,11], [11,12], [12,12], [13,12], [25,12], [26,12], [27,12], [11,13], [27,13]]
  },
  "bat mask": {
    "black": [[11,6], [12,6], [26,6], [27,6], [11,7], [12,7], [13,7], [25,7], [26,7], [27,7], [11,8], [12,8], [13,8], [25,8], [26,8], [27,8], [11,9], [12,9], [13,9], [14,9], [24,9], [25,9], [26,9], [27,9], [11,10], [12,10], [13,10], [14,10], [15,10], [23,10], [24,10], [25,10], [26,10], [27,10], [11,11], [12,11], [13,11], [14,11], [15,11], [23,11], [24,11], [25,11], [26,11], [27,11], [11,12], [12,12], [13,12], [14,12], [15,12], [16,12], [22,12], [23,12], [24,12], [25,12], [26,12], [27,12], [11,13], [12,13], [13,13], [14,13], [15,13], [16,13], [17,13], [21,13], [22,13], [23,13], [24,13], [25,13], [26,13], [27,13], [11,14], [12,14], [13,14], [14,14], [15,14], [16,14], [17,14], [18,14], [19,14], [20,14], [21,14], [22,14], [23,14], [24,14], [25,14], [26,14], [27,14], [11,15], [12,15], [13,15], [17,15], [18,15], [20,15], [21,15], [25,15], [26,15], [27,15], [11,16], [12,16], [13,16], [14,16], [15,16], [16,16], [17,16], [18,16], [20,16], [21,16], [22,16], [23,16], [24,16], [25,16], [26,16], [27,16], [12,17], [13,17], [14,17], [15,17], [16,17], [17,17], [21,17], [22,17], [23,17], [24,17], [25,17], [26,17]]
  },
  "bat mask and cape": {
    "black": [[11,6], [12,6], [26,6], [27,6], [11,7], [12,7], [13,7], [25,7], [26,7], [27,7], [11,8], [12,8], [13,8], [25,8], [26,8], [27,8], [11,9], [12,9], [13,9], [14,9], [24,9], [25,9], [26,9], [27,9], [11,10], [12,10], [13,10], [14,10], [15,10], [23,10], [24,10], [25,10], [26,10], [27,10], [11,11], [12,11], [13,11], [14,11], [15,11], [23,11], [24,11], [25,11], [26,11], [27,11], [11,12], [12,12], [13,12], [14,12], [15,12], [16,12], [22,12], [23,12], [24,12], [25,12], [26,12], [27,12], [11,13], [12,13], [13,13], [14,13], [15,13], [16,13], [17,13], [21,13], [22,13], [23,13], [24,13], [25,13], [26,13], [27,13], [11,14], [12,14], [13,14], [14,14], [15,14], [16,14], [17,14], [18,14], [19,14], [20,14], [21,14], [22,14], [23,14], [24,14], [25,14], [26,14], [27,14], [11,15], [12,15], [13,15], [17,15], [18,15], [20,15], [21,15], [25,15], [26,15], [27,15], [11,16], [12,16], [13,16], [14,16], [15,16], [16,16], [17,16], [18,16], [20,16], [21,16], [22,16], [23,16], [24,16], [25,16], [26,16], [27,16], [12,17], [13,17], [14,17], [15,17], [16,17], [17,17], [21,17], [22,17], [23,17], [24,17], [25,17], [26,17], [12,18], [26,18], [10,19], [11,19], [12,19], [26,19], [27,19], [28,19], [10,20], [28,20], [10,21], [28,21], [10,22], [28,22], [10,23], [28,23], [10,24], [28,24], [10,25], [11,25], [12,25], [26,25], [27,25], [28,25], [10,26], [11,26], [12,26], [26,26], [27,26], [28,26], [10,27], [11,27], [12,27], [13,27], [14,27], [15,27], [18,27], [19,27], [20,27], [23,27], [24,27], [25,27], [26,27], [27,27], [28,27]]
  },
  "sea": {
    "#4d6df3": [[1,24], [9,24], [10,24], [28,24], [29,24], [30,24], [1,25], [9,25], [10,25], [11,25], [12,25], [26,25], [27,25], [28,25], [29,25], [30,25], [1,26], [9,26], [10,26], [11,26], [12,26], [26,26], [27,26], [28,26], [29,26], [30,26], [1,27], [9,27], [10,27], [11,27], [12,27], [13,27], [14,27], [15,27], [18,27], [19,27], [20,27], [23,27], [24,27], [25,27], [26,27], [27,27], [28,27], [29,27], [30,27], [1,28], [9,28], [10,28], [11,28], [12,28], [13,28], [14,28], [19,28], [24,28], [25,28], [26,28], [27,28], [28,28], [29,28], [30,28], [1,29], [1,30]]
  },
  "lower back": {
    "random": [(1,19),(9,19),(10,19),(28,19),(29,19),(30,19),(1,20),(9,20),(29,20),(30,20),(1,21),(9,21),(29,21),(30,21),(1,22),(9,22),(29,22),(30,22),(1,23),(9,23),(29,23),(30,23),(1,24),(9,24),(10,24),(28,24),(29,24),(30,24),(1,25),(9,25),(10,25),(11,25),(12,25),(26,25),(27,25),(28,25),(29,25),(30,25),(1,26),(9,26),(10,26),(11,26),(12,26),(26,26),(27,26),(28,26),(29,26),(30,26),(1,27),(9,27),(10,27),(11,27),(12,27),(13,27),(14,27),(15,27),(18,27),(19,27),(20,27),(23,27),(24,27),(25,27),(26,27),(27,27),(28,27),(29,27),(30,27),(1,28),(9,28),(10,28),(11,28),(12,28),(13,28),(14,28),(19,28),(24,28),(25,28),(26,28),(27,28),(28,28),(29,28),(30,28),(1,29),(1,30)]
  },
  "paw warmers": {
    "primary": [[10,23], [11,23], [13,23], [25,23], [27,23], [28,23], [10,24], [13,24], [25,24], [28,24], [10,25], [11,25], [12,25], [13,25], [25,25], [26,25], [27,25], [28,25]]
  },
  "boxing gloves": {
    "primary": [[10,23], [11,23], [13,23], [25,23], [27,23], [28,23], [10,24], [11,24], [12,24], [13,24], [25,24], [26,24], [27,24], [28,24], [10,25], [11,25], [12,25], [13,25], [25,25], [26,25], [27,25], [28,25]]
  },
  "gun drawn": {
    "black": [[26,17], [27,17], [25,18], [26,18], [27,18], [28,18], [25,19], [26,19], [27,19], [28,19], [25,20], [28,20], [25,21], [28,21], [25,22], [28,22], [25,23], [26,23], [27,23], [28,23], [25,24], [26,24], [27,24], [28,24], [26,25], [27,25], [26,26], [27,26]],
    "white": [[26,21], [26,22]],
    "#FF4040": [[26,20], [27,20], [27,21], [27,22]]
  },
  "two guns drawn": {
    "black": [[11,17], [12,17], [26,17], [27,17], [10,18], [11,18], [12,18], [13,18], [25,18], [26,18], [27,18], [28,18], [10,19], [11,19], [12,19], [13,19], [25,19], [26,19], [27,19], [28,19], [10,20], [13,20], [25,20], [28,20], [10,21], [13,21], [25,21], [28,21], [10,22], [13,22], [25,22], [28,22], [10,23], [11,23], [12,23], [13,23], [25,23], [26,23], [27,23], [28,23], [10,24], [11,24], [12,24], [13,24], [25,24], [26,24], [27,24], [28,24], [11,25], [12,25], [26,25], [27,25], [11,26], [12,26], [26,26], [27,26], [11,8], [12,8], [26,8], [27,8], [12,9], [13,9], [25,9], [26,9], [13,10], [14,10], [24,10], [25,10], [19,15], [19,16], [18,17], [19,17], [20,17], [19,18], [19,19]],
    "white": [[11,21], [26,21], [11,22], [26,22]],
    "#FF4040": [[11,20], [12,20], [26,20], [27,20], [12,21], [27,21], [12,22], [27,22]]
  },
  "smoking guns": {
    "black": [[11,17], [12,17], [26,17], [27,17], [10,18], [11,18], [12,18], [13,18], [25,18], [26,18], [27,18], [28,18], [10,19], [11,19], [12,19], [13,19], [25,19], [26,19], [27,19], [28,19], [10,20], [13,20], [25,20], [28,20], [10,21], [13,21], [25,21], [28,21], [10,22], [13,22], [25,22], [28,22], [10,23], [11,23], [12,23], [13,23], [25,23], [26,23], [27,23], [28,23], [10,24], [11,24], [12,24], [13,24], [25,24], [26,24], [27,24], [28,24], [11,25], [12,25], [26,25], [27,25], [11,26], [12,26], [26,26], [27,26], [11,8], [12,8], [26,8], [27,8], [12,9], [13,9], [25,9], [26,9], [13,10], [14,10], [24,10], [25,10], [19,15], [19,16], [18,17], [19,17], [20,17], [19,18], [19,19]],
    "white": [[11,21], [26,21], [11,22], [26,22]],
    "#FF4040": [[11,20], [12,20], [26,20], [27,20], [12,21], [27,21], [12,22], [27,22]],
    "#b4b4b4": [[9,10], [11,10], [26,10], [28,10], [8,11], [10,11], [12,11], [25,11], [27,11], [29,11], [7,12], [9,12], [11,12], [26,12], [28,12], [30,12], [8,13], [10,13], [12,13], [25,13], [27,13], [29,13], [7,14], [9,14], [11,14], [26,14], [28,14], [30,14], [8,15], [10,15], [12,15], [25,15], [27,15], [29,15], [7,16], [9,16], [11,16], [26,16], [28,16], [8,17], [10,17], [9,18]]
  },
  "paddle": {
    "#A1662F": [[13,22], [13,24], [14,22], [15,22], [16,22], [17,22], [18,22], [19,22], [20,22], [10,23], [12,23], [13,23], [14,23], [15,23], [16,23], [17,23], [18,23], [19,23], [20,23], [13,24], [14,24], [15,24], [16,24], [17,24], [18,24], [19,24], [20,24]]
  },
  "sword": {
    "#c0c0c0": [[12,22], [10,23], [12,23], [13,23], [14,23], [15,23], [16,23], [17,23], [18,23], [19,23], [20,23], [21,23], [12,24]]
  },
  "peg leg right": {
    "#6e5023": [[21,27], [22,27], [21,28], [22,28]],
    "background": [[20,28], [23,28]]
  },
  "peg leg left": {
    "#6e5023": [[16,27], [17,27], [16,28], [17,28]],
    "background": [[15,28], [18,28]]
  },
  "hoot upper case": {
    "primary": [[12,2], [14,2], [16,2], [17,2], [18,2], [20,2], [21,2], [22,2], [24,2], [25,2], [26,2], [12,3], [14,3], [16,3], [18,3], [20,3], [22,3], [25,3], [12,4], [13,4], [14,4], [16,4], [18,4], [20,4], [22,4], [25,4], [12,5], [14,5], [16,5], [18,5], [20,5], [22,5], [25,5], [12,6], [14,6], [16,6], [17,6], [18,6], [20,6], [21,6], [22,6], [25,6]]
  },
  "hoot lower case": {
    "primary": [[12,2], [25,2], [12,3], [25,3], [12,4], [13,4], [14,4], [16,4], [17,4], [18,4], [20,4], [21,4], [22,4], [24,4], [25,4], [26,4], [12,5], [14,5], [16,5], [18,5], [20,5], [22,5], [25,5], [12,6], [14,6], [16,6], [17,6], [18,6], [20,6], [21,6], [22,6], [25,6]]
  },
  "laser eyed maxi left": {
    "primary": [[15,15], [23,15], [16,16], [24,16], [17,17], [25,17], [18,18], [26,18], [19,19], [27,19], [20,20], [28,20], [21,21], [29,21], [22,22], [30,22], [23,23], [24,24], [25,25], [26,26], [27,27], [28,28], [29,29], [30,30]]
  },
  "laser eyed maxi right": {
    "#ffc20e": [[15,15], [23,15], [14,16], [22,16], [13,17], [21,17], [12,18], [20,18], [11,19], [19,19], [10,20], [18,20], [9,21], [17,21], [8,22], [16,22], [7,23], [15,23], [6,24], [14,24], [5,25], [13,25], [4,26], [12,26], [3,27], [11,27], [2,28], [10,28], [1,29], [9,29], [8,30]]
  },
};

const extraTraitsData = [
    { category: 0,  trait: "eye patch", percentage: 9},
    { category: 0,  trait: "yellow glasses", percentage: 13},
    { category: 0,  trait: "cat glasses", percentage: 9},
    { category: 0,  trait: "thug life glasses", percentage: 9},
    { category: 0,  trait: "thick sunglasses", percentage: 9},
    { category: 0,  trait: "wireframe glasses", percentage: 13},
    { category: 0,  trait: "wayfarer glasses", percentage: 9},
    { category: 0,  trait: "monocle", percentage: 1},
    { category: 0,  trait: "augmented eye", percentage: 9},
    { category: 0,  trait: "square patchie", percentage: 9},
    { category: 0,  trait: "pirate patchie", percentage: 10},
    { category: 1,  trait: "inmate suit", percentage: 13},
    { category: 1,  trait: "checkered suit", percentage: 13},
    { category: 1,  trait: "checkerboard suit", percentage: 13},
    { category: 1,  trait: "checkered robe", percentage: 9},
    { category: 1,  trait: "see through kilt", percentage: 1},
    { category: 1,  trait: "kilt", percentage: 9},
    { category: 1,  trait: "jump suit", percentage: 13},
    { category: 1,  trait: "footie", percentage: 10},
    { category: 1,  trait: "satoshi shirt", percentage: 1},
    { category: 1,  trait: "lighting bolt shirt", percentage: 9},
    { category: 1,  trait: "seven", percentage: 9},
    { category: 2,  trait: "gold chain with medallion", percentage: 75},
    { category: 2,  trait: "gold chain with gem", percentage: 25},
    { category: 3,  trait: "square sun", percentage: 8},
    { category: 3,  trait: "sun", percentage: 8},
    { category: 3,  trait: "cloud", percentage: 8},
    { category: 3,  trait: "cloudy sky", percentage: 8},
    { category: 3,  trait: "chemtrails", percentage: 8},
    { category: 3,  trait: "striped sky", percentage: 8},
    { category: 3,  trait: "cloud 3", percentage: 8},
    { category: 3,  trait: "cloud 2", percentage: 8},
    { category: 3,  trait: "squigly sky", percentage: 8},
    { category: 3,  trait: "high sky", percentage: 10},
    { category: 3,  trait: "midday sky", percentage: 8},
    { category: 3,  trait: "brilliant sun", percentage: 10},
    { category: 4,  trait: "tree,upper tree branch", percentage: 50},
    { category: 4,  trait: "tree,bark", percentage: 50},
    { category: 5,  trait: "mohawk", percentage: 5},
    { category: 5,  trait: "beret", percentage: 5},
    { category: 5,  trait: "poohbah hat", percentage: 4},
    { category: 5,  trait: "two tone poohbah hat", percentage: 4},
    { category: 5,  trait: "tin foil hat", percentage: 4},
    { category: 5,  trait: "top hat with patch", percentage: 4},
    { category: 5,  trait: "reverse pyramid hat", percentage: 4},
    { category: 5,  trait: "drip hat", percentage: 4},
    { category: 5,  trait: "box hat", percentage: 4},
    { category: 5,  trait: "cap", percentage: 4},
    { category: 5,  trait: "rasta cap", percentage: 4},
    { category: 5,  trait: "baseball cap", percentage: 6},
    { category: 5,  trait: "buzzcut", percentage: 4},
    { category: 5,  trait: "spikey hair", percentage: 4},
    { category: 5,  trait: "spikey hair 2", percentage: 4},
    { category: 5,  trait: "swoosh hair", percentage: 6},
    { category: 5,  trait: "afro", percentage: 4},
    { category: 5,  trait: "halo", percentage: 1},
    { category: 5,  trait: "devil horns", percentage: 1},
    { category: 5,  trait: "antlers", percentage: 4},
    { category: 5,  trait: "ranger hat", percentage: 7},
    { category: 5,  trait: "bat ears", percentage: 4},
    { category: 5,  trait: "bat mask", percentage: 5},
    { category: 5,  trait: "bat mask and cape", percentage: 4},
    { category: 6,  trait: "sea", percentage: 50},
    { category: 6,  trait: "lower back", percentage: 50},
    { category: 7,  trait: "paw warmers", percentage: 15},
    { category: 7,  trait: "boxing gloves", percentage: 20},
    { category: 7,  trait: "gun drawn", percentage: 10},
    { category: 7,  trait: "two guns drawn", percentage: 10},
    { category: 7,  trait: "smoking guns", percentage: 10},
    { category: 7,  trait: "paddle", percentage: 15},
    { category: 7,  trait: "sword", percentage: 20},
    { category: 8,  trait: "peg leg right", percentage: 75},
    { category: 8,  trait: "peg leg left", percentage: 25},
    { category: 9,  trait: "hoot upper case", percentage: 25},
    { category: 9,  trait: "hoot lower case", percentage: 75},
    { category: 10, trait: "laser eyed maxi left", percentage: 75},
    { category: 10, trait: "laser eyed maxi right", percentage: 25}
];

const categoryAppearanceRate = [50, 50, 50, 0, 30, 50, 0, 30, 10, 0, 10];

//const collectionJsonUrl = '/content/b78337cfe8e59a7398697fbde1f4ce726e46ed9323488681766287a53f7dba45i0';
//const baseJsonUrl = '/content/f259f3f000a20c287690ecc331d7845b5afc4514943cd3d627b055abedae8c80i0';
const collectionJsonUrl = 'https://ordinals.com/content/b78337cfe8e59a7398697fbde1f4ce726e46ed9323488681766287a53f7dba45i0';
const baseJsonUrl = 'https://ordinals.com/content/f259f3f000a20c287690ecc331d7845b5afc4514943cd3d627b055abedae8c80i0';
const displaySize = '780px';
const canvasSize = 30;

// Global variables for canvases
let contextCanvas, pfpCanvas;

function appendStyles() {
    // Define styles for canvas and container
    const style = document.createElement('style');
    style.innerHTML = `
        .image-container {
            width: ${displaySize};
            height: ${displaySize};
        }
        canvas {
            width: 100%;
            height: 100%;
            image-rendering: pixelated;
        }
        .hidden {
            display: none;
        }
    `;
    document.head.appendChild(style);
}

function toggleCanvasVisibility(event) {
    // Toggle the visibility of the canvases
    contextCanvas.classList.toggle('hidden');
    pfpCanvas.classList.toggle('hidden');
}

// Function to get traits by category
function getTraitsByCategory(category) {
    return extraTraitsData.filter(trait => trait.category === category);
}

function getColor(color, extraTraits, traitColors) {
    //console.log('color:',color);
    //console.log('extraTraits:',extraTraits);
    console.log('traitColors:',traitColors);
    //console.log('traitColors[color]:',traitColors[color]);
    
    // Check if color is an integer and within the 0-20 range
    if (!isNaN(color) && color >= 0 && color <= 20) {
        return traitColors[color];
    }

    const skyBlue = 'rgb(135, 206, 235)';
    const background = 'rgb(172, 111, 194)';
    const black = 'rgb(0, 0, 0)';
    const white = 'rgb(255, 255, 255)';
    const orange = 'rgb(255, 64, 64)';

    if (color === 'sky') {
        return skyBlue;
    } else if (color === 'white') {
        return white;
    } else if (color === 'black') {
      return black;
    } else if (color === 'background') {
        // Check for 62 or 63 in extraTraits
        const backgroundIndex = extraTraits.includes(62) ? 62 : extraTraits.includes(63) ? 63 : 3;
        return traitColors[backgroundIndex];
    } else if (color === 'primary') {
        // Black (50%), White (40%), Orange (10%)
        const randomNum = Math.random();
        if (randomNum < 0.5) return black;
        else if (randomNum < 0.9) return white;
        else return orange;
    } else if (color === 'primaryRandom') {
        // Black (45%), White (35%), Orange (13%), Random (7%)
        const randomNum = Math.random();
        if (randomNum < 0.45) return black;
        else if (randomNum < 0.8) return white;
        else if (randomNum < 0.93) return orange;
        else return `rgb(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)})`;
    } else {
        // Convert hex color to RGB
        try {
            console.log('color:',color);
            const r = parseInt(color.slice(1, 3), 16);
            const g = parseInt(color.slice(3, 5), 16);
            const b = parseInt(color.slice(5, 7), 16);
            console.log('r:',r);
            return `rgb(${r}, ${g}, ${b})`;
        } catch (e) {
            // Generate a random color for non-hex values
            return `rgb(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)})`;
        }
    }
}

function adjustTraitColorsAndExtraTraits(traitColors, artDigits,extraTraits) {
    const currentTime = new Date();
    const hours = currentTime.getHours();
    const dayOfWeek = currentTime.getDay(); // 0 (Sunday) to 6 (Saturday)

    console.log('traitColors:',traitColors);
    console.log('artDigits:',artDigits);
    
    // Adjust for time of day
    if (hours >= 7 && hours <= 9) {
    // Morning adjustments
        if (Math.random() < artDigits[11] / 10) {
            extraTraits.push("62"); // Push trait 62 if condition is met
        }
    } else if (hours >= 9 && hours <= 18) {
        // Daytime adjustments
        if (Math.random() < artDigits[11] / 10) {
            extraTraits.push("63"); // Push trait 63 if condition is met
        }
    }
    
    const moonColor = adjustForMoonPhase(traitColors, artDigits);
    
    if (hours >= 11 && hours <= 17) {
        categoryAppearanceRate[3] = artDigits[11] * 10;
    }

    // Adjust for Friday evening or early Saturday morning
    if ((dayOfWeek === 5 && ((hours >= 19 && hours <= 21) || (hours >= 4 && hours <= 6))) ) {
        categoryAppearanceRate[9] = artDigits[12] * 10;
    }

    // Adjust pupil color based on time
    if (hours >= 7 && hours <= 16) {
        // Probability for pupil color change (sleeping)
        if (Math.random() < artDigits[13] * 10 / 100) {
            traitColors['left pupil'] = traitColors['left eye'];
            traitColors['right pupil'] = traitColors['right eye'];
        } else if (hours >= 11.18 && hours <= 11.19 && Math.random() < artDigits[16] * 10 / 100) {
            traitColors['right pupil'] = traitColors['right eye'];
        } else if (hours >= 15.54 && hours <= 15.56 && Math.random() < artDigits[15] * 10 / 100) {
            traitColors['right pupil'] = traitColors['right eye'];
        }
    } 
    // Check if extraTraits does not include any traits from 39 to 49 or 5
    const isConflict = extraTraits.some(trait => 
          (trait >= 39 && trait <= 49) || (trait >= 54 && trait <= 61)
    );    
    if (hours >= 2 && hours <= 4) {
        // Probability for orange eye and pupil color (bitZombie)
        if (Math.random() < artDigits[14] / 100) {
            traitColors['left pupil'] = '#FF4040';
            traitColors['right pupil'] = '#FF4040';
            traitColors['left eye'] = '#FF4040';
            traitColors['right eye'] = '#FF4040';
        }
        if (!isConflict) {
          if (Math.random() < artDigits[14] / 100) {
              extraTraits.push("56");
          }
        }
    }
    if (hours >= 14 && hours <= 16) {
    // If there's no conflict, proceed to check the random condition
      if (!isConflict) {
          if (Math.random() < artDigits[16] / 100) {
              extraTraits.push("55");
          }
      }
    }
    return moonColor; 
}

function preventConflicts(extraTraitColor, canvas, extraTrait, list) {
    const potentialConflicts = new Set();

    // Check each pixel of the extraTrait for adjacent colors
    extraTrait.forEach(pixel => {
        // Define adjacent pixel coordinates
        const adjacentPixels = [
            { x: pixel.x - 1, y: pixel.y },
            { x: pixel.x + 1, y: pixel.y },
            { x: pixel.x, y: pixel.y - 1 },
            { x: pixel.x, y: pixel.y + 1 }
        ];

        // Check each adjacent pixel
        adjacentPixels.forEach(adjPixel => {
            if (canvas[adjPixel.x] && canvas[adjPixel.x][adjPixel.y]) {
                potentialConflicts.add(canvas[adjPixel.x][adjPixel.y]);
            }
        });
    });

    // Check if extraTraitColor is in the conflict list
    if (potentialConflicts.has(extraTraitColor)) {
        // Find a non-conflicting color
        for (const color of list) {
            if (!potentialConflicts.has(color)) {
                return color; // Return the first non-conflicting color
            }
        }
        // If all colors conflict, return a default color or handle as needed
        return 'defaultColor';
    } else {
        // No conflict, return the original color
        return extraTraitColor;
    }
}

function adjustForMoonPhase(traitColors, artDigits) {
    // Simple moon phase calculation
    const phase = calculateMoonPhase(); // Placeholder for moon phase calculation
    const moonColorProbability = artDigits[18] / 10;
    const shouldColorMoonWhite = moonColorProbability <= 0.25 || !traitColors[phase + 11];

    // Adjust traitColors for moon phases
    traitColors[12] = (phase === 1) ? (shouldColorMoonWhite ? '#ffffff' : traitColors[12]) : null;
    traitColors[13] = (phase === 2) ? (shouldColorMoonWhite ? '#ffffff' : traitColors[13]) : null;
    traitColors[14] = (phase === 3) ? (shouldColorMoonWhite ? '#ffffff' : traitColors[14]) : null;
    traitColors[15] = (phase === 4) ? (shouldColorMoonWhite ? '#ffffff' : traitColors[15]) : null;
    return [12, 13, 14, 15].includes(phase+11) ? traitColors[phase + 11] : null;
}

function calculateMoonPhase(date) {
    const KNOWN_NEW_MOON = new Date('2000-01-06'); // Known new moon date
    const LUNAR_MONTH = 29.53058867; // Average length of a lunar month in days

    // Calculate the number of days since the known new moon
    const daysSinceNewMoon = (date - KNOWN_NEW_MOON) / (24 * 3600 * 1000);

    // Calculate the number of lunar months since the known new moon
    const lunarMonthsSinceNewMoon = daysSinceNewMoon / LUNAR_MONTH;

    // Calculate the current phase of the moon
    const currentPhase = lunarMonthsSinceNewMoon % 1;

    // Determine the moon phase index (null - New Moon, 1 - First Quarter, 2 - Half Moon, 3 - Three Quarter Moon, 4 - Full Moon)
    if (currentPhase < 0.125 || currentPhase >= 0.875) {
        return null; // New Moon
    } else if (currentPhase < 0.375) {
        return 1; // First Quarter
    } else if (currentPhase < 0.625) {
        return 2; // Half Moon
    } else if (currentPhase < 0.875) {
        return 3; // Three Quarter Moon
    } else {
        return 4; // Full Moon
    }
}

function getExtraTraits(artDigits,numberOfExtraTraits) {
    const traitsToAdd = [];
    for (let i = 0; i < artDigits.length; i++) {
        // Check if the required number of extra traits has been reached
        if (traitsToAdd.length >= numberOfExtraTraits) break;

        // Check if the art digit falls within the appearance rate of the category
        if (artDigits[i] * 10 <= categoryAppearanceRate[i % categoryAppearanceRate.length]) {
            // Get all traits in the current category
            const categoryTraits = extraTraitsData.filter(trait => trait.category === i % categoryAppearanceRate.length);

            // Use the next digit as a randomizer index
            const randomIndex = artDigits[(i + 1) % artDigits.length] % categoryTraits.length;

            // Add the selected trait to the list
            if (categoryTraits.length > 0) {
                traitsToAdd.push(categoryTraits[randomIndex]);
            }
        }
    }
    return traitsToAdd;
}

function checkAndSetPixelColor(pixels, targetColorHex, newColor, ctx) {
    for (const [x, y] of pixels) {
        let pixelData = ctx.getImageData(x - 1, y - 1, 1, 1);
        let hexColor = "#" + ("000000" + ((pixelData.data[0] << 16) | (pixelData.data[1] << 8) | pixelData.data[2]).toString(16)).slice(-6);
        console.log('x:',x,'y:',y);
        // Check if the pixel color matches the target color
        console.log('hexColor:',hexColor);
        console.log('targetColorHex:',targetColorHex);
        if (hexColor === targetColorHex) {
            // Set pixel to new color
            ctx.fillStyle = newColor; // Assuming newColor is in '#rrggbb' format
            ctx.fillRect(x - 1, y - 1, 1, 1);
        }
    }
}

function fillRectangle(startCoords, endCoords, color, ctx) {
    const [startX, startY] = startCoords;
    const [endX, endY] = endCoords;

    ctx.fillStyle = color;

    for (let x = startX; x <= endX; x++) {
        for (let y = startY; y <= endY; y++) {
            ctx.fillRect(x - 1, y - 1, 1, 1);
        }
    }
}

function generateArt(traitColors,traitCoordinates,artDigits,numberOfExtraTraits,allColors,pfp) {
    const ctx = contextCanvas.getContext('2d');
    contextCanvas.width = canvasSize;
    contextCanvas.height = canvasSize;

    const eyeChangingBird = (artDigits[1]+1)/10 <= 0.33;
    const differentColorEyeSocket = eyeChangingBird && (artDigits[2]+1)/10 <= 0.1;
    const differentColorEye = eyeChangingBird && (artDigits[3]+1)/10 <= 0.1;
    const differentColorPupil = eyeChangingBird && (artDigits[4]+1)/10 <= 0.1;

    let extraTraits = getExtraTraits(artDigits, numberOfExtraTraits);
    const moonColor = adjustTraitColorsAndExtraTraits(traitColors,artDigits,extraTraits);
 
    // Drawing logic...
    for (const [traitIndex, colorValue] of Object.entries(traitColors)) {
      let color = colorValue; // Default color

      if (traitIndex === '11') {
          if (differentColorEyeSocket) {
            const randomIndex = Math.floor(Math.random() * allColors[10].length);
            color = allColors[11][randomIndex];
          } else {
            color = traitColors[10];
          }
      } else if (traitIndex === '9') {
         if (differentColorEye) {
            const randomIndex = Math.floor(Math.random() * traitColors[8].length);
            color = allColors[9][randomIndex];
         } else {
            color = traitColors[8];
         }
      } else if (traitIndex === '18') {
          if (differentColorPupil) {  
            const randomIndex = Math.floor(Math.random() * traitColors[17].length);
            color = allColors[18][randomIndex];
          } else {
            color = traitColors[17];
          }
      } else if (traitIndex === '20') {
          color = traitColors[4];
      }

      if (traitCoordinates[traitIndex] && Array.isArray(traitCoordinates[traitIndex].coordinates) && color !== undefined) {
          ctx.fillStyle = color;
          for (const pixel of traitCoordinates[traitIndex].coordinates) {
              ctx.fillRect(pixel.x - 1, pixel.y - 1, 1, 1);
          }
      } 
    }

    // Drawing logic for extra and random traits...
    for (const trait of extraTraits) {
        const traitCoordinates = extraTraitCoordinates[trait.trait];
        if (traitCoordinates !== undefined) {
            for (const color in traitCoordinates) {
                const renderColor = getColor(color,extraTraits,traitColors); 
                if (trait in [0,19,20,21,69,70]) {
                  ctx.fillStyle = preventConflicts(renderColor, contextCanvas, extraTrait, ['#000000','#FFFFFF','#FF4040','#ffc20e','#ffc20e']);
                } else {
                  ctx.fillStyle = renderColor;
                }
                for (const pixel of traitCoordinates[color]) {
                    ctx.fillRect(pixel[0] - 1, pixel[1] - 1, 1, 1);
                }
            }
        }
    }

    // Apply CSS scaling to contextCanvas for display
    contextCanvas.style.width = displaySize;
    contextCanvas.style.height = displaySize;

    // Generate the second image based on the first
    pfpCanvas.width = 23;
    pfpCanvas.height = 23;
    const pfpCtx = pfpCanvas.getContext('2d');
    //pfpCtx.drawImage(contextCanvas, 8, 6, 21, 21, 0, 0, 21, 21);

    pfpCtx.drawImage(contextCanvas, 7, 5, 23, 23, 0, 0, 23, 23);

    fillRectangle([1,1], [1,30], traitColors[3], pfpCtx);
    const pixels = [[16, 1], [17, 1], [18, 1]];
    checkAndSetPixelColor(pixels, moonColor, traitColors[3], pfpCtx);

    // Apply CSS scaling to pfpCanvas for display
    pfpCanvas.style.width = displaySize;
    pfpCanvas.style.height = displaySize;

    if (pfp == 1) {
      toggleCanvasVisibility();
    }
}

function replaceColorWithRandom(startCoords, endCoords, oldColor, traitColors, ctx) {
    const [startX, startY] = startCoords;
    const [endX, endY] = endCoords;

    for (let x = startX; x <= endX; x++) {
        for (let y = startY; y <= endY; y++) {
            const pixel = ctx.getImageData(x, y, 1, 1);
            const [r, g, b, a] = pixel.data;

            // Convert RGB to hex format
            const currentColor = `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;

            if (currentColor === oldColor) {
                // Select a random color from the traitColors array
                const randomColor = traitColors[Math.floor(Math.random() * traitColors.length)];
                ctx.fillStyle = randomColor;
                ctx.fillRect(x, y, 1, 1);
            }
        }
    }
}

function generateEgg(progress,traitColors) {
    const ctx = contextCanvas.getContext('2d');
    contextCanvas.width = canvasSize;
    contextCanvas.height = canvasSize;

    fillRectangle([1,1], [30,30], '#969696', ctx);

    eggTraitColors = {
      "egg": {
        "#5c524d": [[12,7], [13,7], [14,7], [15,7], [16,7], [17,7], [18,7], [19,7], [10,9], [11,9], [20,9], [21,9], [9,10], [22,10], [9,11], [22,11], [9,12], [9,13], [7,14], [7,15], [7,16], [7,17], [7,18], [7,19], [7,20], [7,21], [7,22]],
        "#3d322d": [[8,23]],
        "#3c312c": [[8,24]],
        "#9c8a6a": [[20,12], [21,12], [20,13], [21,13], [20,14], [21,14], [20,15], [21,15], [20,16], [21,16], [22,16], [20,17], [21,17], [22,17], [20,18], [21,18], [22,18], [20,19], [21,19], [22,19], [18,20], [19,20], [20,20], [21,20], [22,20], [18,21], [19,21], [20,21], [21,21], [22,21], [16,22], [17,22], [18,22], [19,22], [20,22], [21,22], [12,23], [13,23], [14,23], [15,23], [16,23], [17,23], [18,23], [19,23], [12,24], [13,24], [14,24], [15,24], [16,24], [17,24], [18,24], [19,24]],
        "#7e7057": [[10,23], [11,23]],
        "#fff0d6": [[12,10], [13,10], [12,11], [13,11], [10,12], [11,12], [12,12], [13,12], [10,13], [11,13], [12,13], [13,13], [10,14], [11,14], [10,15], [11,15]],
        "#7d6f56": [[12,9], [13,9], [18,9], [19,9], [10,10], [11,10], [20,10], [21,10], [10,11], [11,11], [20,11], [21,11], [9,14], [22,14], [9,15], [22,15], [9,22], [22,22], [20,23], [21,23], [10,24], [11,24], [20,24], [21,24]],
        "#372b26": [[23,14], [23,15], [23,16], [23,17], [23,18], [23,19], [23,20], [23,21], [23,22], [9,23], [22,23]],
        "#959595": [[23,10], [23,11], [23,12], [23,13], [7,23], [24,23], [23,24]],
        "#7b6d55": [[12,8], [13,8], [18,8], [19,8], [8,14], [8,15], [8,22]],
        "#362a25": [[22,12], [22,13], [24,14], [24,15], [24,16], [24,17], [24,18], [24,19], [24,20], [24,21], [24,22], [9,24], [22,24], [10,25], [11,25], [12,25], [13,25], [14,25], [15,25], [16,25], [17,25], [18,25], [19,25], [20,25], [21,25], [10,26], [11,26], [12,26], [13,26], [14,26], [15,26], [16,26], [17,26], [18,26], [19,26], [20,26], [21,26]],
        "#bfab84": [[14,9], [15,9], [16,9], [17,9], [14,10], [15,10], [16,10], [17,10], [18,10], [19,10], [14,11], [15,11], [16,11], [17,11], [18,11], [19,11], [14,12], [15,12], [16,12], [17,12], [18,12], [19,12], [14,13], [15,13], [16,13], [17,13], [18,13], [19,13], [12,14], [13,14], [14,14], [15,14], [16,14], [17,14], [18,14], [19,14], [12,15], [13,15], [14,15], [15,15], [16,15], [17,15], [18,15], [19,15], [9,16], [10,16], [11,16], [12,16], [13,16], [14,16], [15,16], [16,16], [17,16], [18,16], [19,16], [9,17], [10,17], [11,17], [12,17], [13,17], [14,17], [15,17], [16,17], [17,17], [18,17], [19,17], [9,18], [10,18], [11,18], [12,18], [13,18], [14,18], [15,18], [16,18], [17,18], [18,18], [19,18], [9,19], [10,19], [11,19], [12,19], [13,19], [14,19], [15,19], [16,19], [17,19], [18,19], [19,19], [9,20], [10,20], [11,20], [12,20], [13,20], [14,20], [15,20], [16,20], [17,20], [9,21], [10,21], [11,21], [12,21], [13,21], [14,21], [15,21], [16,21], [17,21], [10,22], [11,22], [12,22], [13,22], [14,22], [15,22]],
        "#949494": [[23,23]],
        "#b9a681": [[14,8], [15,8], [16,8], [17,8], [8,16], [8,17], [8,18], [8,19], [8,20], [8,21]],
        "#605651": [[10,8], [11,8], [20,8], [21,8], [8,10], [8,11], [8,12], [8,13]],
      },
      "crack 1": {
        "black": [[14,10], [14,11], [14,12], [14,13], [12,14], [13,14], [14,14], [12,15], [10,16], [11,16], [12,16]],
      },
      "crack 2": {
        "black": [[13,8], [13,9], [13,10], [14,10], [14,11], [14,12], [14,13], [12,14], [13,14], [14,14], [12,15], [9,16], [10,16], [11,16], [12,16], [9,17], [9,18], [9,19], [9,20], [9,21]],
      },
      "crack 3": {
        "black": [[13,7], [13,8], [13,9], [13,10], [14,10], [14,11], [14,12], [14,13], [12,14], [13,14], [14,14], [12,15], [9,16], [10,16], [11,16], [12,16], [9,17], [9,18], [9,19], [9,20], [9,21], [9,22], [9,23], [9,24]],
      },
      "crack 4": {
        "black": [[13,7], [13,8], [13,9], [13,10], [14,10], [14,11], [14,12], [14,13], [12,14], [13,14], [14,14], [15,14], [16,14], [17,14], [12,15], [17,15], [18,15], [19,15], [9,16], [10,16], [11,16], [12,16], [19,16], [20,16], [21,16], [9,17], [21,17], [9,18], [21,18], [9,19], [21,19], [9,20], [21,20], [22,20], [23,20], [9,21], [23,21], [9,22], [23,22], [9,23], [9,24]],
      },
    };

    const eggsToDisplay = ['egg']; // Initialize with 'egg'
    
    // Add cracks based on progress
    if (progress >= 0.25) eggsToDisplay.push('crack 1');
    if (progress >= 0.50) eggsToDisplay.push('crack 2');
    if (progress >= 0.75) eggsToDisplay.push('crack 3');
    if (progress >= 1.00) eggsToDisplay.push('crack 4');

    // Drawing traits
    for (const trait of eggsToDisplay) {
        if (eggTraitColors[trait]) {
            for (const [color, coordinates] of Object.entries(eggTraitColors[trait])) {
                ctx.fillStyle = color;
                for (const pixel of coordinates) {
                    ctx.fillRect(pixel[0] - 1, pixel[1] - 1, 1, 1); // Assuming pixel is an array [x, y]
                }
            }
        }
    }

    // Apply CSS scaling to contextCanvas for display
    contextCanvas.style.width = displaySize;
    contextCanvas.style.height = displaySize;

  // Generate the second image based on the first
    pfpCanvas.width = 30;
    pfpCanvas.height = 30;
    const pfpCtx = pfpCanvas.getContext('2d');
    //pfpCtx.drawImage(contextCanvas, 8, 6, 21, 21, 0, 0, 21, 21);

    pfpCtx.drawImage(contextCanvas, 0, 0, 30, 30, 0, 0, 30, 30);
    replaceColorWithRandom([1,1], [30,30], '#969696', traitColors, pfpCtx);

    // Apply CSS scaling to pfpCanvas for display
    pfpCanvas.style.width = displaySize;
    pfpCanvas.style.height = displaySize;

}

function appendCanvases() {
    // Create container
    const container = document.createElement('div');
    container.className = 'image-container';

    // Create and set up contextCanvas
    contextCanvas = document.createElement('canvas');
    container.appendChild(contextCanvas);

    // Create and set up pfpCanvas
    pfpCanvas = document.createElement('canvas');
    pfpCanvas.classList.add('hidden');
    container.appendChild(pfpCanvas);

    // Append container to the body
    document.body.appendChild(container);

    // Add click event listeners to toggle visibility
    contextCanvas.addEventListener('click', toggleCanvasVisibility);
    pfpCanvas.addEventListener('click', toggleCanvasVisibility);
}

async function getMetadata(url, retry = false) {
    try {
        const collectionMetadataRes = await fetch(url);
        return await collectionMetadataRes.json();
    } catch (e) {
        if (!retry) {
            const timestamp = Math.floor(Date.now() / (60000 * 10)) // 10 minutes
            const newUrl = `${url}?timestamp=${timestamp}`
            return getMetadata(newUrl, true)
        }
        throw e
    }
}

function simpleHash(input, mintdatetime) {
    const combinedInput = input + mintdatetime;
    let combinedHash = '';

    // Increase the number of alterations to ensure a longer hash
    for (let j = 0; j < 5; j++) { // Increase iterations for a longer hash
        let hash = 0;
        for (let i = 0; i < combinedInput.length; i++) {
            const char = combinedInput.charCodeAt(i) + j; // Slightly alter the input
            hash = ((hash << 5) - hash) + char;
            hash |= 0; // Convert to 32bit integer
        }
        combinedHash += Math.abs(hash).toString();
    }
    return combinedHash.substring(0, Math.max(20, combinedHash.length));
}

function extractDigitsFromHash(selectedColorIndexes) {
    const inputString = selectedColorIndexes.join(',');
    const hashString = simpleHash(inputString);
    const digits = [];
    for (let i = 0; i < 20; i++) {
        digits.push(parseInt(hashString[i]) % 10);
    }
    return digits;
}

function determinenumberOfExtraTraits(hash) {
    if (hash < 50) {
        return 1;
    } else if (hash < 75) {
        return 2;
    } else if (hash < 90) {
        return 3;
    } else {
        return 4;
    }
}

window.onload = async function() {
    appendStyles();
    appendCanvases();

    try {
        const jsonColorData = await getMetadata(collectionJsonUrl);
        const allColors = jsonColorData.colors;
        const jsonCoordinateData = await getMetadata(baseJsonUrl);
        const baseCoordinates = jsonCoordinateData;
        
        //const inputString = document.querySelector('script[t]').getAttribute('t');
        const inputString = '211111111-7---1-48-7-0';

        const pfp = inputString.slice(-1);
        const trimmedInputString = inputString.slice(0, -1);
        const selectedColorIndexes = Array.from(trimmedInputString).map(char => Number(char));
        const traitColors = selectedColorIndexes.map((selectedColor, i) => allColors[i] ? allColors[i][selectedColor] : null);

        //const mintDateTime = document.querySelector('script[t]').getAttribute('d');        
        //const mintDateTime = 28364324; // This is a Unix timestamp in minutes Unix Date/60000
        const mintDateTime = 28362000; // This is a Unix timestamp in minutes Unix Date/60
        const mintDate = new Date(mintDateTime * 1000 * 60);
        const now = new Date();

        // Convert both current time and mintDate to minutes, then subtract and convert to hours
        const differenceInHours = (Math.floor(now.getTime() / 60000) - Math.floor(mintDate.getTime() / 60000)) / 60;
        console.log("Difference in hours:", differenceInHours);

        const extractedDigits = extractDigitsFromHash(selectedColorIndexes);

        // Determine extra traits based on the first digit
        const numberOfExtraTraits = determinenumberOfExtraTraits(extractedDigits[0]);

        // Remaining digits for generateArt function
        const artDigits = extractedDigits.slice(1);

        console.log("Extra Traits:", numberOfExtraTraits);
        //console.log("Art Digits:", artDigits);

        const progress = differenceInHours / (numberOfExtraTraits * 24);
        console.log('progress:',progress);

        if (progress <= 1) {
          generateEgg(progress,traitColors);
        } else {
          generateArt(traitColors,baseCoordinates,artDigits,numberOfExtraTraits,allColors,pfp);
        }

    } catch (e) {
        console.error(e);
    }
};

</script>
</body>
</html>